  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accesses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "join_code" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "custom_styles" text)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "action_text_markdowns"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "action_text_markdowns" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "name" varchar NOT NULL, "content" text DEFAULT '' NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_action_text_markdowns_on_record" ON "action_text_markdowns" ("record_type", "record_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_on_slug" ON "active_storage_attachments" ("slug")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "subtitle" varchar, "author" varchar, "published" boolean DEFAULT 0 NOT NULL, "slug" varchar NOT NULL, "everyone_access" boolean DEFAULT 1 NOT NULL, "theme" varchar DEFAULT 'blue' NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_books_on_published" ON "books" ("published")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "edits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "edits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leaf_id" ON "edits" ("leaf_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leafable" ON "edits" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "leaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "leaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_leaves_on_book_id" ON "leaves" ("book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_leafs_on_leafable" ON "leaves" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pictures"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "pictures" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "caption" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "theme" varchar, "body" text)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sessions"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_sessions_on_token" ON "sessions" ("token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "email_address" varchar NOT NULL, "password_digest" varchar NOT NULL, "role" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email_address" ON "users" ("email_address")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaccesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_user_id" ON "aaccesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aaccesses_on_user_id_and_book_id" ON "aaccesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_book_id" ON "aaccesses" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aaccesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a453fa1dab"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "accesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaccesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_user_id" ON "aaccesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aaccesses_on_user_id_and_book_id" ON "aaccesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_book_id" ON "aaccesses" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aaccesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "accesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a453fa1dab"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_e47574ce84"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "accesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "aaccesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_on_slug" ON "aactive_storage_attachments" ("slug")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at","slug")
                     SELECT "id","name","record_type","record_id","blob_id","created_at","slug" FROM "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_on_slug" ON "active_storage_attachments" ("slug")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at","slug")
                     SELECT "id","name","record_type","record_id","blob_id","created_at","slug" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aedits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aedits_on_leafable" ON "aedits" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aedits_on_leaf_id" ON "aedits" ("leaf_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aedits" ("id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at")
                     SELECT "id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at" FROM "edits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "edits"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "edits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_855918d132"
FOREIGN KEY ("leaf_id")
  REFERENCES "leaves" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leaf_id" ON "edits" ("leaf_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leafable" ON "edits" ("leafable_type", "leafable_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "edits" ("id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at")
                     SELECT "id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at" FROM "aedits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aedits"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aleaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_leafs_on_leafable" ON "aleaves" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aleaves_on_book_id" ON "aleaves" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aleaves" ("id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title")
                     SELECT "id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title" FROM "leaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "leaves"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "leaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL, CONSTRAINT "fk_rails_3bb84105c0"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_leaves_on_book_id" ON "leaves" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_leafs_on_leafable" ON "leaves" ("leafable_type", "leafable_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "leaves" ("id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title")
                     SELECT "id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title" FROM "aleaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aleaves"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "asessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_asessions_on_user_id" ON "asessions" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_asessions_on_token" ON "asessions" ("token")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "asessions" ("id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at")
                     SELECT "id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at" FROM "sessions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "sessions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_758836b4f0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_sessions_on_token" ON "sessions" ("token")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "sessions" ("id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at")
                     SELECT "id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at" FROM "asessions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "asessions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE VIRTUAL TABLE IF NOT EXISTS leaf_search_index USING fts5 (title, content, tokenize='porter')[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240928005927)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240625224312),
(20240625202351),
(20240625084002),
(20240617075643);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-22 16:45:11.855914', '2025-09-22 16:45:11.855915') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f3d918a279728bd9ee73c0fc430df4eeb0e22eab', '2025-09-22 16:45:11.857155', '2025-09-22 16:45:11.857155') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accesses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "accounts"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "join_code" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "custom_styles" text)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "action_text_markdowns"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "action_text_markdowns" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "name" varchar NOT NULL, "content" text DEFAULT '' NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_action_text_markdowns_on_record" ON "action_text_markdowns" ("record_type", "record_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_on_slug" ON "active_storage_attachments" ("slug")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "service_name" varchar NOT NULL, "byte_size" bigint NOT NULL, "checksum" varchar, "created_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "books"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "books" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "subtitle" varchar, "author" varchar, "published" boolean DEFAULT 0 NOT NULL, "slug" varchar NOT NULL, "everyone_access" boolean DEFAULT 1 NOT NULL, "theme" varchar DEFAULT 'blue' NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_books_on_published" ON "books" ("published")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "edits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "edits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leaf_id" ON "edits" ("leaf_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leafable" ON "edits" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "leaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "leaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_leaves_on_book_id" ON "leaves" ("book_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_leafs_on_leafable" ON "leaves" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pages"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "pictures"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "pictures" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "caption" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sections"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sections" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "theme" varchar, "body" text)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "sessions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_sessions_on_token" ON "sessions" ("token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "email_address" varchar NOT NULL, "password_digest" varchar NOT NULL, "role" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email_address" ON "users" ("email_address")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaccesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_user_id" ON "aaccesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aaccesses_on_user_id_and_book_id" ON "aaccesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_book_id" ON "aaccesses" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aaccesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a453fa1dab"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "accesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "aaccesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaccesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_user_id" ON "aaccesses" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aaccesses_on_user_id_and_book_id" ON "aaccesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aaccesses_on_book_id" ON "aaccesses" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aaccesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "accesses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "accesses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "book_id" integer NOT NULL, "level" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a453fa1dab"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
, CONSTRAINT "fk_rails_e47574ce84"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_book_id" ON "accesses" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_accesses_on_user_id_and_book_id" ON "accesses" ("user_id", "book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_accesses_on_user_id" ON "accesses" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "accesses" ("id","user_id","book_id","level","created_at","updated_at")
                     SELECT "id","user_id","book_id","level","created_at","updated_at" FROM "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aaccesses"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_on_slug" ON "aactive_storage_attachments" ("slug")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_attachments_uniqueness" ON "aactive_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aactive_storage_attachments_on_blob_id" ON "aactive_storage_attachments" ("blob_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at","slug")
                     SELECT "id","name","record_type","record_id","blob_id","created_at","slug" FROM "active_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "slug" varchar, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_on_slug" ON "active_storage_attachments" ("slug")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("id","name","record_type","record_id","blob_id","created_at","slug")
                     SELECT "id","name","record_type","record_id","blob_id","created_at","slug" FROM "aactive_storage_attachments"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aactive_storage_attachments"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aactive_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_aactive_storage_variant_records_uniqueness" ON "aactive_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aactive_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "active_storage_variant_records"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" bigint NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_variant_records" ("id","blob_id","variation_digest")
                     SELECT "id","blob_id","variation_digest" FROM "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aactive_storage_variant_records"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aedits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aedits_on_leafable" ON "aedits" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aedits_on_leaf_id" ON "aedits" ("leaf_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aedits" ("id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at")
                     SELECT "id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at" FROM "edits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "edits"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "edits" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "leaf_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "action" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_855918d132"
FOREIGN KEY ("leaf_id")
  REFERENCES "leaves" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leaf_id" ON "edits" ("leaf_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_edits_on_leafable" ON "edits" ("leafable_type", "leafable_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "edits" ("id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at")
                     SELECT "id","leaf_id","leafable_type","leafable_id","action","created_at","updated_at" FROM "aedits"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aedits"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aleaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_leafs_on_leafable" ON "aleaves" ("leafable_type", "leafable_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aleaves_on_book_id" ON "aleaves" ("book_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aleaves" ("id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title")
                     SELECT "id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title" FROM "leaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "leaves"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "leaves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "book_id" integer NOT NULL, "leafable_type" varchar NOT NULL, "leafable_id" integer NOT NULL, "position_score" float NOT NULL, "status" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar NOT NULL, CONSTRAINT "fk_rails_3bb84105c0"
FOREIGN KEY ("book_id")
  REFERENCES "books" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_leaves_on_book_id" ON "leaves" ("book_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_leafs_on_leafable" ON "leaves" ("leafable_type", "leafable_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "leaves" ("id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title")
                     SELECT "id","book_id","leafable_type","leafable_id","position_score","status","created_at","updated_at","title" FROM "aleaves"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aleaves"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "asessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_asessions_on_user_id" ON "asessions" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "tindex_asessions_on_token" ON "asessions" ("token")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "asessions" ("id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at")
                     SELECT "id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at" FROM "sessions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "sessions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "sessions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "token" varchar NOT NULL, "ip_address" varchar, "user_agent" varchar, "last_active_at" datetime(6) NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_758836b4f0"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_sessions_on_token" ON "sessions" ("token")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_sessions_on_user_id" ON "sessions" ("user_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "sessions" ("id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at")
                     SELECT "id","user_id","token","ip_address","user_agent","last_active_at","created_at","updated_at" FROM "asessions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "asessions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE VIRTUAL TABLE IF NOT EXISTS leaf_search_index USING fts5 (title, content, tokenize='porter')[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240928005927)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240625224312),
(20240625202351),
(20240625084002),
(20240617075643);[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-22 16:45:11.989619', '2025-09-22 16:45:11.989621') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-22 16:45:11.991714' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'f3d918a279728bd9ee73c0fc430df4eeb0e22eab', '2025-09-22 16:45:11.993254', '2025-09-22 16:45:11.993255') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2025-09-22 09:45:19 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by BooksController#index as HTML
  [1m[36mBook Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."published" = ? LIMIT ?[0m  [["published", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:59:in 'BooksController#ensure_index_is_not_empty'
Redirected to http://127.0.0.1:3000/session/new
Filter chain halted as :ensure_index_is_not_empty rendered or redirected
Completed 302 Found in 115ms (ActiveRecord: 1.0ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for 127.0.0.1 at 2025-09-22 09:45:19 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:27:in 'SessionsController#ensure_user_exists'
Redirected to http://127.0.0.1:3000/first_run
Filter chain halted as :ensure_user_exists rendered or redirected
Completed 302 Found in 48ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/first_run" for 127.0.0.1 at 2025-09-22 09:45:19 -0700
Processing by FirstRunsController#show as HTML
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/first_runs_controller.rb:19:in 'FirstRunsController#prevent_running_after_setup'
  Rendering layout layouts/application.html.erb
  Rendering first_runs/show.html.erb within layouts/application
  Rendered first_runs/show.html.erb within layouts/application (Duration: 15.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 1.3ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 52.1ms | GC: 12.2ms)
Completed 200 OK in 105ms (Views: 55.1ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 13.1ms)


Started GET "/assets/_reset-9c3efd7b.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/animation-1682b112.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/arrangement-c9cf9cb6.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/buttons-a64f7e63.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/colors-a7c91784.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/dialog-7b5e0174.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/house-ff27e08a.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/inputs-1ea862b1.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/layout-e0cc5584.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/library-057fba11.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/lightbox-4b7304b1.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/pages-5dde5a94.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/panels-fea8d3f3.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/popover-af2d6172.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/product-337efcef.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/qr-code-09948d66.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/search-a617fcd6.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/sidebar-3dac38ff.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/syntax-f7150790.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/text-94431914.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/toc-50e24158.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/trix-c4e7be2d.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/utilities-32924371.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/base-a40e8eee.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/application-9897dfb8.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/turbo.min-fae85750.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/@rails--request-10d39805.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/house.min-40172b20.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/books-c0aa9913.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/actions/index-a8af7f75.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/auto_submit_controller-ee52d396.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/autoremove_controller-4526910a.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/breadcrumbs-9b980014.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/autosave_controller-dd3ea732.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/autoselect_controller-0cb7d4b1.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/copy_to_clipboard_controller-07e32f4d.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/dependent_checkbox_controller-5e5cab70.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/dialog_controller-b6629724.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/edit_mode_controller-61080a1c.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/form_controller-6f3d64db.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/fullscreen_controller-e4a3fba2.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/hotkey_controller-0d616407.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/index-c3f5d3c4.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/lightbox_controller-de0ddc64.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/popover_controller-6d55debe.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/reading_progress_controller-1fc9604c.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/reading_tracker_controller-d394aa22.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/scroll_to_highlight_controller-c828e5e2.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/toc_view_controller-883b15e2.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/touch_controller-0b5ff8b4.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/translations-e96ea992.css" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/upload_preview_controller-7b3123d6.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/web_share_controller-d62a7b0f.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/helpers/cookie_helpers-a1787e92.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/helpers/form_helpers-70a3c11f.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/helpers/reading_progress_helpers-d5510241.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/helpers/timing_helpers-94d95529.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/remove-d18dd986.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/globe-8c54d23b.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/actions/scroll_into_view-9f3401f5.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/password-0896da4e.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/arrangement_controller-ee58c295.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/email-6c595bc5.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/person-01c1c915.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/controllers/sidebar_controller-0ea88c95.js" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/writebook-icon-8e8f4c33.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/assets/arrow-right-61dca488.svg" for 127.0.0.1 at 2025-09-22 09:45:20 -0700
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 09:45:21 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/first_run" for 127.0.0.1 at 2025-09-22 09:47:09 -0700
Processing by FirstRunsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "user" => {"name" => "Justin Bowen", "email_address" => "[FILTERED]", "password" => "[FILTERED]"}}
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/first_runs_controller.rb:19:in 'FirstRunsController#prevent_running_after_setup'
  [1m[35mSQL (0.2ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/first_run.rb:5:in 'FirstRun.create!'
  [1m[36mAccount Create (1.2ms)[0m  [1m[32mINSERT INTO "accounts" ("name", "join_code", "created_at", "updated_at", "custom_styles") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Writebook"], ["join_code", "UpNG-CDNE-ipBi"], ["created_at", "2025-09-22 16:47:09.111710"], ["updated_at", "2025-09-22 16:47:09.111710"], ["custom_styles", nil]]
  ↳ app/models/first_run.rb:5:in 'FirstRun.create!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/first_run.rb:5:in 'FirstRun.create!'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/first_run.rb:7:in 'FirstRun.create!'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("name", "email_address", "password_digest", "role", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Justin Bowen"], ["email_address", "Justin@ActiveAgents.AI"], ["password_digest", "$2a$12$Wc1JkeX6CfSs6O8g4wE9/.lLW33RTBRHxks3O0gyKRGmT26u637Ha"], ["role", 1], ["active", 1], ["created_at", "2025-09-22 16:47:09.360853"], ["updated_at", "2025-09-22 16:47:09.360853"]]
  ↳ app/models/first_run.rb:7:in 'FirstRun.create!'
  [1m[36mBook Ids (0.0ms)[0m  [1m[34mSELECT "books"."id" FROM "books" WHERE "books"."everyone_access" = ?[0m  [["everyone_access", 1]]
  ↳ app/models/user.rb:33:in 'User#grant_access_to_everyone_books'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/first_run.rb:7:in 'FirstRun.create!'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:10:in 'DemoContent.create_book'
  [1m[36mBook Create (2.1ms)[0m  [1m[32mINSERT INTO "books" ("title", "created_at", "updated_at", "subtitle", "author", "published", "slug", "everyone_access", "theme") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["title", "The Writebook Manual"], ["created_at", "2025-09-22 16:47:09.383576"], ["updated_at", "2025-09-22 16:47:09.383576"], ["subtitle", nil], ["author", "37signals"], ["published", 0], ["slug", "the-writebook-manual"], ["everyone_access", 1], ["theme", "blue"]]
  ↳ app/models/demo_content.rb:10:in 'DemoContent.create_book'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:10:in 'DemoContent.create_book'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "jkfqs642vkywow6ksh0jyd7bpf3w"], ["filename", "writebook-manual.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 207147], ["checksum", "dtEKV9YGDExiQbhwflzK2A=="], ["created_at", "2025-09-22 16:47:09.419793"]]
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "cover"], ["record_type", "Book"], ["record_id", 1], ["blob_id", 1], ["created_at", "2025-09-22 16:47:09.434461"], ["slug", "writebook-manual-kNENJF.jpg"]]
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.436057"], ["id", 1]]
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: jkfqs642vkywow6ksh0jyd7bpf3w (checksum: dtEKV9YGDExiQbhwflzK2A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1102655b-ed38-4915-8096-439687348c4f) to Async(default) with arguments: #<GlobalID:0x0000000121d16858 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/1>>
[ActiveJob] ↳ app/models/demo_content.rb:11:in 'block (2 levels) in DemoContent.create_book'
  [1m[36mUser Ids (0.1ms)[0m  [1m[34mSELECT "users"."id" FROM "users" WHERE "users"."active" = ?[0m  [["active", 1]]
  ↳ app/models/book/accessable.rb:37:in 'Book::Accessable#update_access'
  [1m[36mAccess Upsert (0.3ms)[0m  [1m[32mINSERT INTO "accesses" ("user_id","level","book_id","created_at","updated_at") VALUES (1, 'editor', 1, STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW'), STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')) ON CONFLICT ("user_id","book_id") DO UPDATE SET updated_at=(CASE WHEN ("level" IS excluded."level") THEN "accesses".updated_at ELSE STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW') END),"level"=excluded."level" RETURNING "id"[0m
  ↳ app/models/book/accessable.rb:44:in 'Book::Accessable#update_access'
  [1m[36mAccess Delete All (0.1ms)[0m  [1m[31mDELETE FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" != ?[0m  [["book_id", 1], ["user_id", 1]]
  ↳ app/models/book/accessable.rb:45:in 'Book::Accessable#update_access'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.8ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:09.479696"], ["updated_at", "2025-09-22 16:47:09.479696"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 1], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 1], ["name", "body"], ["content", "# Welcome to Writebook\n\nThanks for downloading Writebook. \n\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\n\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\n\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\n\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \n\nWe can't wait to see what you make with it!\n"], ["created_at", "2025-09-22 16:47:09.482762"], ["updated_at", "2025-09-22 16:47:09.482762"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 1], ["position_score", 1.0], ["status", "active"], ["created_at", "2025-09-22 16:47:09.483850"], ["updated_at", "2025-09-22 16:47:09.483850"], ["title", "Welcome"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.483765"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.486048"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.3ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (1, 'Welcome', 'Welcome to Writebook

Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 1], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:27:in 'block in DemoContent.load_markdown_pages'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:09.499547"], ["updated_at", "2025-09-22 16:47:09.499547"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 2], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 2], ["name", "body"], ["content", "# Installation\n\nSince Writebook is something you need to install and host yourself, you’ll need a few things before you begin:\n\n1. Your own domain name.\n2. A web server connected to the internet.\n3. Some basic technical know-how.\n\nWhile Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.\n\nOk, let’s get into it.\n\nHere’s how to get it running on your end:\n\n1. **FIRST, pick a machine to host Writebook.** If you need one in the cloud, we recommend checking out <a href=\"https://www.digitalocean.com\" target=\"_blank\">Digital Ocean</a> ([instructions](/2/the-writebook-manual/180/installing-on-digital-ocean)) or <a href=\"https://www.hetzner.com\" target=\"_blank\">Hetzner</a> ([instructions](/2/the-writebook-manual/181/installing-on-hetzner)).\n2. **THEN, point DNS to the IP address of the machine that’ll be hosting Writebook**. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).\n3. **NEXT, connect a terminal to the machine**. To run the install command, you must connect to the machine you’re using with either `SSH` or a web-based cloud console.\n4. **LAST, install Writebook with one simple command**. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).\n\nYou personal install command will look something like this:\n```\n/bin/bash -c \"$(curl -fsSL http://once.test/install/5555-5555-5555-5555)\"\n```\n\n**IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook**\n\nRunning this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.\n\n ![Screenshot 2024-06-19 at 8.02.28 PM.png](/u/screenshot-2024-06-19-at-8-02-28-pm-PFWfLF.png)\n\nThat’s it! Now you’re ready to setup the first user on the new installation. Go to the `https://YOUR-DOMAIN` and the process will begin. Then you’ll be ready to invite the rest of your team to the system.\n\nYour Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.\n\nEnjoy publishing with Writebook!\n\n**P.S.** If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.\n"], ["created_at", "2025-09-22 16:47:09.501428"], ["updated_at", "2025-09-22 16:47:09.501428"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 2], ["position_score", 2.0], ["status", "active"], ["created_at", "2025-09-22 16:47:09.503476"], ["updated_at", "2025-09-22 16:47:09.503476"], ["title", "Installation"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.503396"], ["id", 2]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.505402"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (2, 'Installation', 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 2], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "uywhfkjj35d56qeyr9dptm8ykvix"], ["filename", "screenshot-2024-06-19-at-8-02-28-pm-PFWfLF.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 238991], ["checksum", "Ov6sIsdVHMmZu83hBa5YtA=="], ["created_at", "2025-09-22 16:47:09.519703"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 2], ["blob_id", 2], ["created_at", "2025-09-22 16:47:09.521096"], ["slug", "screenshot-2024-06-19-at-8-02-28-pm-pfwflf-KK5vR3.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 2], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.524571"], ["id", 2]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.522616"], ["id", 2]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.530246"], ["id", 2]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.530166"], ["id", 2]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.531945"], ["id", 2]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.532615"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (2.0ms) [0m[32mUploaded file to key: uywhfkjj35d56qeyr9dptm8ykvix (checksum: Ov6sIsdVHMmZu83hBa5YtA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 87d8abb4-b26b-48a6-8aa1-b0d1467f99d3) to Async(default) with arguments: #<GlobalID:0x00000001262b7678 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/2>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installation', content = 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.' where rowid = 2[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f] Performing ActiveStorage::AnalyzeJob (Job ID: 1102655b-ed38-4915-8096-439687348c4f) from Async(default) enqueued at 2025-09-22T16:47:09.459634000Z with arguments: #<GlobalID:0x0000000125f581a8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/1>>
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f] Skipping image analysis because the ruby-vips gem isn't installed
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 2], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.860964"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.857614"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.863706"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.863626"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.865774"], ["id", 2]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.866366"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[35mSQL (15.6ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mActiveStorage::Blob Update (18.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ?[0m  [["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.874452"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1102655b-ed38-4915-8096-439687348c4f] Performed ActiveStorage::AnalyzeJob (Job ID: 1102655b-ed38-4915-8096-439687348c4f) from Async(default) in 112.4ms
  [1m[35mSQL (5.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installation', content = 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.' where rowid = 2[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Installation\n\nSince Writebook is something you need to install and host yourself, you’ll need a few things before you begin:\n\n1. Your own domain name.\n2. A web server connected to the internet.\n3. Some basic technical know-how.\n\nWhile Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.\n\nOk, let’s get into it.\n\nHere’s how to get it running on your end:\n\n1. **FIRST, pick a machine to host Writebook.** If you need one in the cloud, we recommend checking out <a href=\"https://www.digitalocean.com\" target=\"_blank\">Digital Ocean</a> ([instructions](/2/the-writebook-manual/180/installing-on-digital-ocean)) or <a href=\"https://www.hetzner.com\" target=\"_blank\">Hetzner</a> ([instructions](/2/the-writebook-manual/181/installing-on-hetzner)).\n2. **THEN, point DNS to the IP address of the machine that’ll be hosting Writebook**. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).\n3. **NEXT, connect a terminal to the machine**. To run the install command, you must connect to the machine you’re using with either `SSH` or a web-based cloud console.\n4. **LAST, install Writebook with one simple command**. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).\n\nYou personal install command will look something like this:\n```\n/bin/bash -c \"$(curl -fsSL http://once.test/install/5555-5555-5555-5555)\"\n```\n\n**IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook**\n\nRunning this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.\n\n ![Screenshot 2024-06-19 at 8.02.28 PM.png](/u/screenshot-2024-06-19-at-8-02-28-pm-pfwflf-KK5vR3.png)\n\nThat’s it! Now you’re ready to setup the first user on the new installation. Go to the `https://YOUR-DOMAIN` and the process will begin. Then you’ll be ready to invite the rest of your team to the system.\n\nYour Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.\n\nEnjoy publishing with Writebook!\n\n**P.S.** If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.\n"], ["updated_at", "2025-09-22 16:47:09.881583"], ["id", 2]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.882931"], ["id", 2]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.882860"], ["id", 2]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.884352"], ["id", 2]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.885185"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installation', content = 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.' where rowid = 2[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:09.895798"], ["updated_at", "2025-09-22 16:47:09.895798"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 3], ["name", "body"], ["content", "# Users, Readers & Writers\n\nYou can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.\n\n  ![users.png](/u/users-GdhgKg.png)\n\n## Inviting people\nYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they'll be immediately signed in.\n\nYou can find the join link by hitting the people button on the index of books. There you'll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.\n\n## Administrators\n\nHit the _Crown_ button next to a person to designate them as an _Administrator_. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.\n\n## Book Permissions\nFor each book there are readers and writers. When you create a book you'll have the chance to choose who on the account can read it and who has permission to edit it.\n\n ![book-permissions.png](/u/book-permissions-QQFdnG.png)\n\n### Readers\nReaders can see the book but can't make any edits or change any settings. They must be signed in to read it if the book isn't available on the public internet. More on that in a later chapter.\n\n### Writers\nWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.\n\n### Everyone\nFlip the _Everyone_ switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.\n"], ["created_at", "2025-09-22 16:47:09.901896"], ["updated_at", "2025-09-22 16:47:09.901896"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 3], ["position_score", 3.0], ["status", "active"], ["created_at", "2025-09-22 16:47:09.903401"], ["updated_at", "2025-09-22 16:47:09.903401"], ["title", "Users, Readers & Writers"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.903290"], ["id", 3]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.905688"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (3, 'Users, Readers & Writers', 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 3], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 3], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "2coqpzeeqa0c1mcehcrhqkagrhkh"], ["filename", "users-GdhgKg.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 130743], ["checksum", "rpQAVlzTLJm3zfMVqXDqUg=="], ["created_at", "2025-09-22 16:47:09.916227"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 3], ["blob_id", 3], ["created_at", "2025-09-22 16:47:09.917530"], ["slug", "users-gdhgkg-uak0Gi.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.920355"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.918773"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.928860"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.928758"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.930431"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.931054"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: 2coqpzeeqa0c1mcehcrhqkagrhkh (checksum: rpQAVlzTLJm3zfMVqXDqUg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f10e486b-71a7-4ed2-8ef0-bc8e60ba4247) to Async(default) with arguments: #<GlobalID:0x000000011d8516f0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/3>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.953893"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.950333"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.957183"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.956801"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.960372"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.961156"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 3], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "awkkt4tcdb0ok2yth8uyoazjp1r7"], ["filename", "book-permissions-QQFdnG.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 203208], ["checksum", "Z4c6wWSMbDgVG0HCW6FADw=="], ["created_at", "2025-09-22 16:47:09.973901"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 3], ["blob_id", 4], ["created_at", "2025-09-22 16:47:09.975362"], ["slug", "book-permissions-qqfdng-Ab4Ugk.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.976836"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.976700"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.981320"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.981217"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3] Performing ActiveStorage::AnalyzeJob (Job ID: 87d8abb4-b26b-48a6-8aa1-b0d1467f99d3) from Async(default) enqueued at 2025-09-22T16:47:09.536221000Z with arguments: #<GlobalID:0x000000012631c550 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/2>>
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.984068"], ["id", 3]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.986907"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 2], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.997549"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:09.995079"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.004753"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.004694"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.006461"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.007464"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[36m  Disk Storage (17.2ms) [0m[32mUploaded file to key: awkkt4tcdb0ok2yth8uyoazjp1r7 (checksum: Z4c6wWSMbDgVG0HCW6FADw==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mActionText::Markdown Load (0.2ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 23da929e-e599-4146-b711-c078af5e30c4) to Async(default) with arguments: #<GlobalID:0x0000000121d13810 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[35m (3.5ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installation', content = 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.' where rowid = 2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [87d8abb4-b26b-48a6-8aa1-b0d1467f99d3] Performed ActiveStorage::AnalyzeJob (Job ID: 87d8abb4-b26b-48a6-8aa1-b0d1467f99d3) from Async(default) in 39.62ms
  [1m[35mSQL (2.7ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 4]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.040393"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.038104"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.043868"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.043813"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.045612"], ["id", 3]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.046385"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Users, Readers & Writers\n\nYou can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.\n\n  ![users.png](/u/users-gdhgkg-uak0Gi.png)\n\n## Inviting people\nYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they'll be immediately signed in.\n\nYou can find the join link by hitting the people button on the index of books. There you'll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.\n\n## Administrators\n\nHit the _Crown_ button next to a person to designate them as an _Administrator_. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.\n\n## Book Permissions\nFor each book there are readers and writers. When you create a book you'll have the chance to choose who on the account can read it and who has permission to edit it.\n\n ![book-permissions.png](/u/book-permissions-qqfdng-Ab4Ugk.png)\n\n### Readers\nReaders can see the book but can't make any edits or change any settings. They must be signed in to read it if the book isn't available on the public internet. More on that in a later chapter.\n\n### Writers\nWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.\n\n### Everyone\nFlip the _Everyone_ switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.\n"], ["updated_at", "2025-09-22 16:47:10.054255"], ["id", 3]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.056140"], ["id", 3]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.056070"], ["id", 3]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.058173"], ["id", 3]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.058954"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.066957"], ["updated_at", "2025-09-22 16:47:10.066957"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 4], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 4], ["name", "body"], ["content", "# Creating your book\n\nFrom the index of books, hit the green `+` button to make your first book. Fill out the title, optional subtitle, and author. You can also upload a cover image if you have one. Finally, if there are other people on your account you can choose who can read and who can edit your book with you. All of this can be changed later so don't sweat it if you don't have it all figured out yet.\n\n## Managing pages\nThe table of contents is where you'll build the structure of your book. Think of it like a file manager where you can add [Text Pages, Section Pages, and Picture Pages](/1/the-writebook-manual/5/text-pages-section-pages-and-picture-pages). If you're used to writing starting with an outline, you're going to love it.\n\nThe table of contents can be displayed at a list or as a grid of thumbnail representations of your pages.\n\nYou can also rearrange and remove pages here.\n"], ["created_at", "2025-09-22 16:47:10.069308"], ["updated_at", "2025-09-22 16:47:10.069308"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 4], ["position_score", 4.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.070498"], ["updated_at", "2025-09-22 16:47:10.070498"], ["title", "Creating your book"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.070419"], ["id", 4]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.073268"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.1ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (4, 'Creating your book', 'Creating your book

From the index of books, hit the green + button to make your first book. Fill out the title, optional subtitle, and author. You can also upload a cover image if you have one. Finally, if there are other people on your account you can choose who can read and who can edit your book with you. All of this can be changed later so don''t sweat it if you don''t have it all figured out yet.

Managing pagesThe table of contents is where you''ll build the structure of your book. Think of it like a file manager where you can add Text Pages, Section Pages, and Picture Pages. If you''re used to writing starting with an outline, you''re going to love it.

The table of contents can be displayed at a list or as a grid of thumbnail representations of your pages.

You can also rearrange and remove pages here.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 4], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:27:in 'block in DemoContent.load_markdown_pages'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.080257"], ["updated_at", "2025-09-22 16:47:10.080257"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 5], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 5], ["name", "body"], ["content", "# Text Pages, Section Pages, and Picture Pages\n\nThere are three kinds of pages you can use to create your book.\n\n ![Screenshot 2024-06-19 at 8.16.09 PM.png](/u/screenshot-2024-06-19-at-8-16-09-pm-1mjVns.png)\n\n## Text Pages\nText Pages can be as long as you want. They're for long-form formatted text. Text Pages are formatted with <a href=\"https://daringfireball.net/projects/markdown/\" target=\"_blank\">Markdown</a>, a simple formatting tool for writing on the web.\n\n## Section Pages\nBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.\n\n## Picture Pages\nPicture Pages hold a single, full-size individual image with an optional caption.\n"], ["created_at", "2025-09-22 16:47:10.085352"], ["updated_at", "2025-09-22 16:47:10.085352"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 5], ["position_score", 5.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.086812"], ["updated_at", "2025-09-22 16:47:10.086812"], ["title", "Text Pages, Section Pages, and Picture Pages"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.086701"], ["id", 5]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.089320"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (5, 'Text Pages, Section Pages, and Picture Pages', 'Text Pages, Section Pages, and Picture Pages

There are three kinds of pages you can use to create your book.



Text PagesText Pages can be as long as you want. They''re for long-form formatted text. Text Pages are formatted with Markdown, a simple formatting tool for writing on the web.

Section PagesBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.

Picture PagesPicture Pages hold a single, full-size individual image with an optional caption.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 5], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 5], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "ri0jzmz6nu1s0zyqb8hnzi5jlma5"], ["filename", "screenshot-2024-06-19-at-8-16-09-pm-1mjVns.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 638556], ["checksum", "q8zZ+Nz6x2ZKK4XPsGD0nw=="], ["created_at", "2025-09-22 16:47:10.102140"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 5], ["blob_id", 5], ["created_at", "2025-09-22 16:47:10.103557"], ["slug", "screenshot-2024-06-19-at-8-16-09-pm-1mjvns-DPjypJ.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 5], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.107753"], ["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.104838"], ["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.111743"], ["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.111640"], ["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.113795"], ["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.115662"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: ri0jzmz6nu1s0zyqb8hnzi5jlma5 (checksum: q8zZ+Nz6x2ZKK4XPsGD0nw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 54321bce-f78c-462f-b9f7-c44e35dd6522) to Async(default) with arguments: #<GlobalID:0x0000000124251730 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/5>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Text Pages, Section Pages, and Picture Pages', content = 'Text Pages, Section Pages, and Picture Pages

There are three kinds of pages you can use to create your book.



Text PagesText Pages can be as long as you want. They''re for long-form formatted text. Text Pages are formatted with Markdown, a simple formatting tool for writing on the web.

Section PagesBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.

Picture PagesPicture Pages hold a single, full-size individual image with an optional caption.' where rowid = 5[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 5], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.144490"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.137983"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.148169"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.148080"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.149677"], ["id", 5]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.150419"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Text Pages, Section Pages, and Picture Pages', content = 'Text Pages, Section Pages, and Picture Pages

There are three kinds of pages you can use to create your book.



Text PagesText Pages can be as long as you want. They''re for long-form formatted text. Text Pages are formatted with Markdown, a simple formatting tool for writing on the web.

Section PagesBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.

Picture PagesPicture Pages hold a single, full-size individual image with an optional caption.' where rowid = 5[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Text Pages, Section Pages, and Picture Pages\n\nThere are three kinds of pages you can use to create your book.\n\n ![Screenshot 2024-06-19 at 8.16.09 PM.png](/u/screenshot-2024-06-19-at-8-16-09-pm-1mjvns-DPjypJ.png)\n\n## Text Pages\nText Pages can be as long as you want. They're for long-form formatted text. Text Pages are formatted with <a href=\"https://daringfireball.net/projects/markdown/\" target=\"_blank\">Markdown</a>, a simple formatting tool for writing on the web.\n\n## Section Pages\nBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.\n\n## Picture Pages\nPicture Pages hold a single, full-size individual image with an optional caption.\n"], ["updated_at", "2025-09-22 16:47:10.158281"], ["id", 5]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.159596"], ["id", 5]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.159506"], ["id", 5]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.161446"], ["id", 5]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.162461"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Text Pages, Section Pages, and Picture Pages', content = 'Text Pages, Section Pages, and Picture Pages

There are three kinds of pages you can use to create your book.



Text PagesText Pages can be as long as you want. They''re for long-form formatted text. Text Pages are formatted with Markdown, a simple formatting tool for writing on the web.

Section PagesBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.

Picture PagesPicture Pages hold a single, full-size individual image with an optional caption.' where rowid = 5[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.169107"], ["updated_at", "2025-09-22 16:47:10.169107"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 6], ["name", "body"], ["content", "# Writing\n\nWe've designed Writebook to be a calm, enjoyable and distraction-free place to write.\n\nHere's what you need to know.\n\n## Editing mode\n\nThe first step when working on your book is to flip the switch and enter _Editing mode_. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you're done working or toggle it anytime to preview your changes as readers will see them.\n\n ![edit-mode.gif](/u/edit-mode-ygeCcM.gif)\n\n## Autosave\n\nWritebook automatically saves as you write so you don't have to think about saving or worry about losing your work. The _Save_ button in the page toolbar continually comminicates where the are unsaved changes, when it's in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it'll save for you even if you don't.\n\n ![autosave.gif](/u/autosave-Ssql4X.gif)\n\n## Full Screen\n\nFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). [Full Screen](/2/the-writebook-manual/170/reading#fullscreen) hides most of the clutter and busyness of your device and operating system so you can focus on your work. _Hint: you can use Full Screen while reading, too!_\n\n## Version history\n\nAs you work on your book, Writebook will track when you've made a batch of changes and record them as a new version. Hit the _History_ button next to the _Save_ button to browse through previous versions of any page.\n"], ["created_at", "2025-09-22 16:47:10.173226"], ["updated_at", "2025-09-22 16:47:10.173226"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 6], ["position_score", 6.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.174554"], ["updated_at", "2025-09-22 16:47:10.174554"], ["title", "Writing with Writebook"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.174476"], ["id", 6]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.177015"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.3ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (6, 'Writing with Writebook', 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 6], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 6], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "ytgc98kg1z5keb0zu3yn1t9groh6"], ["filename", "edit-mode-ygeCcM.gif"], ["content_type", "image/gif"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 1238333], ["checksum", "SAecpolxpZVqNkqchkuKfg=="], ["created_at", "2025-09-22 16:47:10.191139"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 6], ["blob_id", 6], ["created_at", "2025-09-22 16:47:10.193215"], ["slug", "edit-mode-ygeccm-7Cubub.gif"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.196330"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.194617"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.200944"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.200893"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.202661"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.203444"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: ytgc98kg1z5keb0zu3yn1t9groh6 (checksum: SAecpolxpZVqNkqchkuKfg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1bbb924c-b2be-4082-8c91-2b1299fc657f) to Async(default) with arguments: #<GlobalID:0x000000012377e920 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/6>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.230577"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.226049"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.233402"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.233334"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.235198"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.236166"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 6], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "3n75bth05h4rn69ostk0lm8wsdy8"], ["filename", "autosave-Ssql4X.gif"], ["content_type", "image/gif"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 912199], ["checksum", "fgpXQt5ft89kG5lAGI4Z9Q=="], ["created_at", "2025-09-22 16:47:10.248564"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 6], ["blob_id", 7], ["created_at", "2025-09-22 16:47:10.250032"], ["slug", "autosave-ssql4x-BIRw7w.gif"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.251565"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.251395"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.255969"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.255907"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.257354"], ["id", 6]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.258204"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247] Performing ActiveStorage::AnalyzeJob (Job ID: f10e486b-71a7-4ed2-8ef0-bc8e60ba4247) from Async(default) enqueued at 2025-09-22T16:47:09.933506000Z with arguments: #<GlobalID:0x000000011d6de958 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.277761"], ["id", 3]]
[36m  Disk Storage (18.5ms) [0m[32mUploaded file to key: 3n75bth05h4rn69ostk0lm8wsdy8 (checksum: fgpXQt5ft89kG5lAGI4Z9Q==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b658d2a0-cb73-4aee-b7ff-73a4f5bf6579) to Async(default) with arguments: #<GlobalID:0x00000001229eebe8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.274535"], ["id", 3]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.282657"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.282578"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.286894"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mBook Update (0.9ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.287776"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (5.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[35mSQL (5.8ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[35m (8.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f10e486b-71a7-4ed2-8ef0-bc8e60ba4247] Performed ActiveStorage::AnalyzeJob (Job ID: f10e486b-71a7-4ed2-8ef0-bc8e60ba4247) from Async(default) in 49.14ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.327211"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.320244"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.336596"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.335964"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.341763"], ["id", 6]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.343382"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Writing\n\nWe've designed Writebook to be a calm, enjoyable and distraction-free place to write.\n\nHere's what you need to know.\n\n## Editing mode\n\nThe first step when working on your book is to flip the switch and enter _Editing mode_. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you're done working or toggle it anytime to preview your changes as readers will see them.\n\n ![edit-mode.gif](/u/edit-mode-ygeccm-7Cubub.gif)\n\n## Autosave\n\nWritebook automatically saves as you write so you don't have to think about saving or worry about losing your work. The _Save_ button in the page toolbar continually comminicates where the are unsaved changes, when it's in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it'll save for you even if you don't.\n\n ![autosave.gif](/u/autosave-ssql4x-BIRw7w.gif)\n\n## Full Screen\n\nFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). [Full Screen](/2/the-writebook-manual/170/reading#fullscreen) hides most of the clutter and busyness of your device and operating system so you can focus on your work. _Hint: you can use Full Screen while reading, too!_\n\n## Version history\n\nAs you work on your book, Writebook will track when you've made a batch of changes and record them as a new version. Hit the _History_ button next to the _Save_ button to browse through previous versions of any page.\n"], ["updated_at", "2025-09-22 16:47:10.358025"], ["id", 6]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.362812"], ["id", 6]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.362698"], ["id", 6]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.364477"], ["id", 6]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.365073"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.373822"], ["updated_at", "2025-09-22 16:47:10.373822"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 7], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 7], ["name", "body"], ["content", "# Using Markdown\n\nText Pages in Writebook use <a href=\"https://daringfireball.net/projects/markdown/\" target=\"_blank\">Markdown</a>, a simple formatting tool for writing on the web.\n\nIf you're already a Markdown expert, you can write your book with the same formatting you're accustomed to. Below you'll find a handy reference.\n\nBut if you're new to Markdown, Writebook's text editing toolbar has the most common formatting tools for anyone who's familiar with a word processor.\n\n ![markdown-toolbar.png](/u/markdown-toolbar-lnzfdA.png)\n\nWhen you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.\n\n## Basic formatting\n\n| Markdown | Converted to HTML | Result |\n|----|---|----|\n| `**bold**` | `<strong>bold</strong>` | **bold** |\n| `_italic_` | `<em>italic</em>` | _italic_ |\n| `` `code` `` | `<code>code</code>` | `code` |\n| `[link](url)` |  `<a href=\"url\">link</a>` | [link](url) |\n\n## Headings\n\nHeading levels 1–6 are indicated with one or more `#` characters.\n```\n# Heading 1\n## Heading 2\n### Heading 3\n#### Heading 4\n##### Heading 5\n###### Heading 6\n```\n\n# Heading 1\n## Heading 2\n### Heading 3\n#### Heading 4\n##### Heading 5\n###### Heading 6\n\n***\n\n## Block quotations\nUse an email style `>` to create a block quotation.\n\n```\n > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.\n```\n> It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.\n\n***\n\n\n## Code blocks\nUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.\n<pre><code>``` ruby\nputs 'Hello, Writebook!'  # Print out \"Hello, Writebook!\"\n```</code></pre>\n\n``` ruby\nputs 'Hello, Writebook!'  # Print out \"Hello, Writebook!\"\n```\n\n## Horizontal rules\nUse three asterisks (or dashes) in a row to make a horizontal rule.\n```\n***\n```\n\n***\n\n## Advanced formatting\n\nWritebook also supports `HTML` formatting in your pages. Tags like `<p>`, `<img>`, `<a>`,  `<h1>`, `<h2>`, `<strong>`, `<em>`, `<center>`, `<details>`, `<table>`, `<video>`, and more are supported. You can also use `CSS` inside the inline `style` attribute like this tip for centering text uses.\n\n### Center text\n```\n<p style=\"text-align: center\">This is centered</p>\n```\n\n<p style=\"text-align: center\">This is centered</p>\n\n### Open a link in a new tab/window\nUse an `HTML` `a` element with the `target` attribute set to `_blank` (the preceding underscore is important) like this:\n\n```\n<a href=\"https://books.37signals.com\" target=\"_blank\">This opens in a new tab/window</a>\n```\n\n<a href=\"https://books.37signals.com\" target=\"_blank\">This opens in a new tab/window</a>\n\n\n***\nFor a complete reference, see the official <a href=\"https://daringfireball.net/projects/markdown/syntax\" target=\"_blank\">Markdown Syntax</a> page.\n"], ["created_at", "2025-09-22 16:47:10.376833"], ["updated_at", "2025-09-22 16:47:10.376833"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 7], ["position_score", 7.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.378467"], ["updated_at", "2025-09-22 16:47:10.378467"], ["title", "Using Markdown"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.378388"], ["id", 7]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.381317"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.4ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (7, 'Using Markdown', 'Using Markdown

Text Pages in Writebook use Markdown, a simple formatting tool for writing on the web.

If you''re already a Markdown expert, you can write your book with the same formatting you''re accustomed to. Below you''ll find a handy reference.

But if you''re new to Markdown, Writebook''s text editing toolbar has the most common formatting tools for anyone who''s familiar with a word processor.



When you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.

Basic formattingMarkdownConverted to HTMLResult**bold**<strong>bold</strong>bold_italic_<em>italic</em>italic`code`<code>code</code>code[link](url)<a href="url">link</a>linkHeadingsHeading levels 1–6 are indicated with one or more # characters.

# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6Heading 1

Heading 2Heading 3Heading 4Heading 5Heading 6Block quotationsUse an email style > to create a block quotation.

 > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.“It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.”

Code blocksUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.

``` ruby
puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"
```puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"Horizontal rulesUse three asterisks (or dashes) in a row to make a horizontal rule.

***Advanced formattingWritebook also supports HTML formatting in your pages. Tags like <p>, <img>, <a>,  <h1>, <h2>, <strong>, <em>, <center>, <details>, <table>, <video>, and more are supported. You can also use CSS inside the inline style attribute like this tip for centering text uses.

Center text<p style="text-align: center">This is centered</p>This is centered

Open a link in a new tab/windowUse an HTML a element with the target attribute set to _blank (the preceding underscore is important) like this:

<a href="https://books.37signals.com" target="_blank">This opens in a new tab/window</a>This opens in a new tab/window

For a complete reference, see the official Markdown Syntax page.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 7], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 7], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "di4h4ehovkk32g9qjnqltf6x7fqr"], ["filename", "markdown-toolbar-lnzfdA.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 18628], ["checksum", "aaf3YrQbXoZ/+HTgakxu7Q=="], ["created_at", "2025-09-22 16:47:10.400230"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 7], ["blob_id", 8], ["created_at", "2025-09-22 16:47:10.402336"], ["slug", "markdown-toolbar-lnzfda-95NHOY.png"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4] Performing ActiveStorage::AnalyzeJob (Job ID: 23da929e-e599-4146-b711-c078af5e30c4) from Async(default) enqueued at 2025-09-22T16:47:10.011971000Z with arguments: #<GlobalID:0x0000000124dfba40 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/4>>
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 7], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.407949"], ["id", 7]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.405101"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.416801"], ["id", 7]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.416723"], ["id", 7]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.419988"], ["id", 7]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.421017"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[35mSQL (6.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mActiveStorage::Attachment Load (7.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 3]]
[36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: di4h4ehovkk32g9qjnqltf6x7fqr (checksum: aaf3YrQbXoZ/+HTgakxu7Q==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 53996c69-9c47-4b24-b04f-d9f3c2c44500) to Async(default) with arguments: #<GlobalID:0x0000000126317b18 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/8>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 3], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.429566"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.426020"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.439252"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.439156"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.441400"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.442529"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (9.7ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Using Markdown', content = 'Using Markdown

Text Pages in Writebook use Markdown, a simple formatting tool for writing on the web.

If you''re already a Markdown expert, you can write your book with the same formatting you''re accustomed to. Below you''ll find a handy reference.

But if you''re new to Markdown, Writebook''s text editing toolbar has the most common formatting tools for anyone who''s familiar with a word processor.



When you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.

Basic formattingMarkdownConverted to HTMLResult**bold**<strong>bold</strong>bold_italic_<em>italic</em>italic`code`<code>code</code>code[link](url)<a href="url">link</a>linkHeadingsHeading levels 1–6 are indicated with one or more # characters.

# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6Heading 1

Heading 2Heading 3Heading 4Heading 5Heading 6Block quotationsUse an email style > to create a block quotation.

 > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.“It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.”

Code blocksUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.

``` ruby
puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"
```puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"Horizontal rulesUse three asterisks (or dashes) in a row to make a horizontal rule.

***Advanced formattingWritebook also supports HTML formatting in your pages. Tags like <p>, <img>, <a>,  <h1>, <h2>, <strong>, <em>, <center>, <details>, <table>, <video>, and more are supported. You can also use CSS inside the inline style attribute like this tip for centering text uses.

Center text<p style="text-align: center">This is centered</p>This is centered

Open a link in a new tab/windowUse an HTML a element with the target attribute set to _blank (the preceding underscore is important) like this:

<a href="https://books.37signals.com" target="_blank">This opens in a new tab/window</a>This opens in a new tab/window

For a complete reference, see the official Markdown Syntax page.' where rowid = 7[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[35mSQL (1.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[35m (3.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Users, Readers & Writers', content = 'Users, Readers & Writers

You can use Writebook alone, or invite others to publish with you. Users invited to Writebook can read books that are private to just your team, create their own books, or you can choose which books they can contribute to.



Inviting peopleYour Writebook has a special join link you can share with people. When they hit the link they will be asked to enter their name, email address, and set a password for their account. Once they do, they''ll be immediately signed in.

You can find the join link by hitting the people button on the index of books. There you''ll see the special URL which you can share via QR code or copy it to paste into an email, text, and chat.

AdministratorsHit the Crown button next to a person to designate them as an Administrator. Admins have access to every book on the account and can do things like remove people from the account, help them get back in if they forget their password, and regenerate the join URL if it falls into the wrong hands.

Book PermissionsFor each book there are readers and writers. When you create a book you''ll have the chance to choose who on the account can read it and who has permission to edit it.



ReadersReaders can see the book but can''t make any edits or change any settings. They must be signed in to read it if the book isn''t available on the public internet. More on that in a later chapter.

WritersWriters all have full permission to read, edit, and change anything in the book. They can change the title, author, cover and any text or pictures. Admins are always writers.

EveryoneFlip the Everyone switch to give everyone on the account read access to the book—this includes anyone who joins the account later. This setting is ideal for something like a company handbook that you want everyone on your team to instantly have access to. You can give writer access to individuals even when everyone is on.' where rowid = 3[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [23da929e-e599-4146-b711-c078af5e30c4] Performed ActiveStorage::AnalyzeJob (Job ID: 23da929e-e599-4146-b711-c078af5e30c4) from Async(default) in 65.18ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 7], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.474684"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.471391"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.477812"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.477755"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.479659"], ["id", 7]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.480433"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Using Markdown', content = 'Using Markdown

Text Pages in Writebook use Markdown, a simple formatting tool for writing on the web.

If you''re already a Markdown expert, you can write your book with the same formatting you''re accustomed to. Below you''ll find a handy reference.

But if you''re new to Markdown, Writebook''s text editing toolbar has the most common formatting tools for anyone who''s familiar with a word processor.



When you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.

Basic formattingMarkdownConverted to HTMLResult**bold**<strong>bold</strong>bold_italic_<em>italic</em>italic`code`<code>code</code>code[link](url)<a href="url">link</a>linkHeadingsHeading levels 1–6 are indicated with one or more # characters.

# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6Heading 1

Heading 2Heading 3Heading 4Heading 5Heading 6Block quotationsUse an email style > to create a block quotation.

 > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.“It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.”

Code blocksUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.

``` ruby
puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"
```puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"Horizontal rulesUse three asterisks (or dashes) in a row to make a horizontal rule.

***Advanced formattingWritebook also supports HTML formatting in your pages. Tags like <p>, <img>, <a>,  <h1>, <h2>, <strong>, <em>, <center>, <details>, <table>, <video>, and more are supported. You can also use CSS inside the inline style attribute like this tip for centering text uses.

Center text<p style="text-align: center">This is centered</p>This is centered

Open a link in a new tab/windowUse an HTML a element with the target attribute set to _blank (the preceding underscore is important) like this:

<a href="https://books.37signals.com" target="_blank">This opens in a new tab/window</a>This opens in a new tab/window

For a complete reference, see the official Markdown Syntax page.' where rowid = 7[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Using Markdown\n\nText Pages in Writebook use <a href=\"https://daringfireball.net/projects/markdown/\" target=\"_blank\">Markdown</a>, a simple formatting tool for writing on the web.\n\nIf you're already a Markdown expert, you can write your book with the same formatting you're accustomed to. Below you'll find a handy reference.\n\nBut if you're new to Markdown, Writebook's text editing toolbar has the most common formatting tools for anyone who's familiar with a word processor.\n\n ![markdown-toolbar.png](/u/markdown-toolbar-lnzfda-95NHOY.png)\n\nWhen you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.\n\n## Basic formatting\n\n| Markdown | Converted to HTML | Result |\n|----|---|----|\n| `**bold**` | `<strong>bold</strong>` | **bold** |\n| `_italic_` | `<em>italic</em>` | _italic_ |\n| `` `code` `` | `<code>code</code>` | `code` |\n| `[link](url)` |  `<a href=\"url\">link</a>` | [link](url) |\n\n## Headings\n\nHeading levels 1–6 are indicated with one or more `#` characters.\n```\n# Heading 1\n## Heading 2\n### Heading 3\n#### Heading 4\n##### Heading 5\n###### Heading 6\n```\n\n# Heading 1\n## Heading 2\n### Heading 3\n#### Heading 4\n##### Heading 5\n###### Heading 6\n\n***\n\n## Block quotations\nUse an email style `>` to create a block quotation.\n\n```\n > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.\n```\n> It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.\n\n***\n\n\n## Code blocks\nUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.\n<pre><code>``` ruby\nputs 'Hello, Writebook!'  # Print out \"Hello, Writebook!\"\n```</code></pre>\n\n``` ruby\nputs 'Hello, Writebook!'  # Print out \"Hello, Writebook!\"\n```\n\n## Horizontal rules\nUse three asterisks (or dashes) in a row to make a horizontal rule.\n```\n***\n```\n\n***\n\n## Advanced formatting\n\nWritebook also supports `HTML` formatting in your pages. Tags like `<p>`, `<img>`, `<a>`,  `<h1>`, `<h2>`, `<strong>`, `<em>`, `<center>`, `<details>`, `<table>`, `<video>`, and more are supported. You can also use `CSS` inside the inline `style` attribute like this tip for centering text uses.\n\n### Center text\n```\n<p style=\"text-align: center\">This is centered</p>\n```\n\n<p style=\"text-align: center\">This is centered</p>\n\n### Open a link in a new tab/window\nUse an `HTML` `a` element with the `target` attribute set to `_blank` (the preceding underscore is important) like this:\n\n```\n<a href=\"https://books.37signals.com\" target=\"_blank\">This opens in a new tab/window</a>\n```\n\n<a href=\"https://books.37signals.com\" target=\"_blank\">This opens in a new tab/window</a>\n\n\n***\nFor a complete reference, see the official <a href=\"https://daringfireball.net/projects/markdown/syntax\" target=\"_blank\">Markdown Syntax</a> page.\n"], ["updated_at", "2025-09-22 16:47:10.495164"], ["id", 7]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.496707"], ["id", 7]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.496609"], ["id", 7]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.498577"], ["id", 7]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.501233"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Using Markdown', content = 'Using Markdown

Text Pages in Writebook use Markdown, a simple formatting tool for writing on the web.

If you''re already a Markdown expert, you can write your book with the same formatting you''re accustomed to. Below you''ll find a handy reference.

But if you''re new to Markdown, Writebook''s text editing toolbar has the most common formatting tools for anyone who''s familiar with a word processor.



When you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.

Basic formattingMarkdownConverted to HTMLResult**bold**<strong>bold</strong>bold_italic_<em>italic</em>italic`code`<code>code</code>code[link](url)<a href="url">link</a>linkHeadingsHeading levels 1–6 are indicated with one or more # characters.

# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6Heading 1

Heading 2Heading 3Heading 4Heading 5Heading 6Block quotationsUse an email style > to create a block quotation.

 > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.“It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.”

Code blocksUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.

``` ruby
puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"
```puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"Horizontal rulesUse three asterisks (or dashes) in a row to make a horizontal rule.

***Advanced formattingWritebook also supports HTML formatting in your pages. Tags like <p>, <img>, <a>,  <h1>, <h2>, <strong>, <em>, <center>, <details>, <table>, <video>, and more are supported. You can also use CSS inside the inline style attribute like this tip for centering text uses.

Center text<p style="text-align: center">This is centered</p>This is centered

Open a link in a new tab/windowUse an HTML a element with the target attribute set to _blank (the preceding underscore is important) like this:

<a href="https://books.37signals.com" target="_blank">This opens in a new tab/window</a>This opens in a new tab/window

For a complete reference, see the official Markdown Syntax page.' where rowid = 7[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.515319"], ["updated_at", "2025-09-22 16:47:10.515319"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 8], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 8], ["name", "body"], ["content", "# Reading\n\nClear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. \n\nHere are a few more things you should know.\n\n## Full Screen\n\nFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. _Hint: you can use Full Screen while writing, too!_\n\n<img src=\"/u/fullscreen-IbQnfM.png\" alt=\"Full Screen view\" style=\"border: 1px solid var(--color-subtle)\" />\n\n## Moving between pages\n\nAs you reach the bottom of a page, you'll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.\n\nOn devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  `→` to turn to the next page and `←` to go back. When you reach the end of the book, Writebook will return you to the table of contents.\n"], ["created_at", "2025-09-22 16:47:10.517479"], ["updated_at", "2025-09-22 16:47:10.517479"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 8], ["position_score", 8.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.518765"], ["updated_at", "2025-09-22 16:47:10.518765"], ["title", "Reading"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.518673"], ["id", 8]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.521516"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (8, 'Reading', 'Reading

Clear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. 

Here are a few more things you should know.

Full ScreenFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. Hint: you can use Full Screen while writing, too!



Moving between pagesAs you reach the bottom of a page, you''ll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.

On devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  → to turn to the next page and ← to go back. When you reach the end of the book, Writebook will return you to the table of contents.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 8], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 8], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "h74qdu3ewwpl6e1tcfqpnwylt8lw"], ["filename", "fullscreen-IbQnfM.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 451728], ["checksum", "/MspBF9xNofLIfVMr5qMag=="], ["created_at", "2025-09-22 16:47:10.532370"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 8], ["blob_id", 9], ["created_at", "2025-09-22 16:47:10.533675"], ["slug", "fullscreen-ibqnfm-Tbq382.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 8], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.538864"], ["id", 8]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.535141"], ["id", 8]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.542873"], ["id", 8]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.542824"], ["id", 8]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.546397"], ["id", 8]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.547276"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: h74qdu3ewwpl6e1tcfqpnwylt8lw (checksum: /MspBF9xNofLIfVMr5qMag==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e5bdcbe1-0761-4599-8d68-98b94f28fcca) to Async(default) with arguments: #<GlobalID:0x0000000121bddb30 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/9>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Reading', content = 'Reading

Clear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. 

Here are a few more things you should know.

Full ScreenFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. Hint: you can use Full Screen while writing, too!



Moving between pagesAs you reach the bottom of a page, you''ll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.

On devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  → to turn to the next page and ← to go back. When you reach the end of the book, Writebook will return you to the table of contents.' where rowid = 8[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 8], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.571619"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.568934"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.574696"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.574638"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.577263"], ["id", 8]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.578183"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Reading', content = 'Reading

Clear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. 

Here are a few more things you should know.

Full ScreenFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. Hint: you can use Full Screen while writing, too!



Moving between pagesAs you reach the bottom of a page, you''ll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.

On devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  → to turn to the next page and ← to go back. When you reach the end of the book, Writebook will return you to the table of contents.' where rowid = 8[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Reading\n\nClear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. \n\nHere are a few more things you should know.\n\n## Full Screen\n\nFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. _Hint: you can use Full Screen while writing, too!_\n\n<img src=\"/u/fullscreen-ibqnfm-Tbq382.png\" alt=\"Full Screen view\" style=\"border: 1px solid var(--color-subtle)\" />\n\n## Moving between pages\n\nAs you reach the bottom of a page, you'll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.\n\nOn devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  `→` to turn to the next page and `←` to go back. When you reach the end of the book, Writebook will return you to the table of contents.\n"], ["updated_at", "2025-09-22 16:47:10.586653"], ["id", 8]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.587805"], ["id", 8]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.587720"], ["id", 8]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.597056"], ["id", 8]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.597893"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Reading', content = 'Reading

Clear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. 

Here are a few more things you should know.

Full ScreenFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. Hint: you can use Full Screen while writing, too!



Moving between pagesAs you reach the bottom of a page, you''ll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.

On devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  → to turn to the next page and ← to go back. When you reach the end of the book, Writebook will return you to the table of contents.' where rowid = 8[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.605684"], ["updated_at", "2025-09-22 16:47:10.605684"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 9], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 9], ["name", "body"], ["content", "# Publishing your book\n\nWritebook can be used to publish private books just for your team, or public books available for everyone on the web.\n\n## Private books\nPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, [Users, Readers & Writers](/2/the-writebook-manual/29/users-readers-writers) for details.\n\n## Publishing to the web\nTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.\n\n ![publishing.gif](/u/publishing-vP0uNP.gif)\n\n## Public URLs\nYour book's public URL consists of the domain you provided when you set up Writebook plus a _slug_ derived from the title of the book. For example, if your Writebook is at `books.37signals.com`, then the title _Getting Real_ will be published at `books.37signals.com/getting-real`. You can change this slug if you don't like the one Writebook provided.\n\n### Redirecting\nVisitors who visit your URL without any book slug (.e.g., `books.37signals.com`) will be redirected to your published book. If you have more than one book published to the web, they'll see a list of all public books on your Writebook that are published. If you don't have any published books, they'll be directed to sign in.\n"], ["created_at", "2025-09-22 16:47:10.608041"], ["updated_at", "2025-09-22 16:47:10.608041"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 9], ["position_score", 9.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.609456"], ["updated_at", "2025-09-22 16:47:10.609456"], ["title", "Publishing on the web"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522] Performing ActiveStorage::AnalyzeJob (Job ID: 54321bce-f78c-462f-b9f7-c44e35dd6522) from Async(default) enqueued at 2025-09-22T16:47:10.123095000Z with arguments: #<GlobalID:0x0000000126196cd0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/5>>
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.609370"], ["id", 9]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.613153"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.4ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (9, 'Publishing on the web', 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.')[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 5]]
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 9], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 5]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 5], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.632794"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.628942"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.636444"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.636386"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.638335"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.639160"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[35m (0.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Text Pages, Section Pages, and Picture Pages', content = 'Text Pages, Section Pages, and Picture Pages

There are three kinds of pages you can use to create your book.



Text PagesText Pages can be as long as you want. They''re for long-form formatted text. Text Pages are formatted with Markdown, a simple formatting tool for writing on the web.

Section PagesBooks in Writebook have a flat structure, just like physical books. Insert a Section Page to designate a new part, section, or chapter; or for quotations or short bold statements.

Picture PagesPicture Pages hold a single, full-size individual image with an optional caption.' where rowid = 5[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [54321bce-f78c-462f-b9f7-c44e35dd6522] Performed ActiveStorage::AnalyzeJob (Job ID: 54321bce-f78c-462f-b9f7-c44e35dd6522) from Async(default) in 33.99ms
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 9], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "lh5epnlj1tg9oo7z030ka4wmn1ps"], ["filename", "publishing-vP0uNP.gif"], ["content_type", "image/gif"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 442315], ["checksum", "rOuWDCA3J+jawuJ7C9c0SQ=="], ["created_at", "2025-09-22 16:47:10.647679"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 9], ["blob_id", 10], ["created_at", "2025-09-22 16:47:10.649077"], ["slug", "publishing-vp0unp-FHFMjP.gif"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 9], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.652366"], ["id", 9]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.650640"], ["id", 9]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.656700"], ["id", 9]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.656628"], ["id", 9]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.658374"], ["id", 9]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.659203"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: lh5epnlj1tg9oo7z030ka4wmn1ps (checksum: rOuWDCA3J+jawuJ7C9c0SQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 55790fe9-ae83-4480-a120-fa37c3f5452c) to Async(default) with arguments: #<GlobalID:0x0000000124d5bb08 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/10>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Publishing on the web', content = 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.' where rowid = 9[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 10]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 10]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 9], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.680902"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.678421"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.684069"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.684003"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.686197"], ["id", 9]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.687041"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Publishing on the web', content = 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.' where rowid = 9[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Publishing your book\n\nWritebook can be used to publish private books just for your team, or public books available for everyone on the web.\n\n## Private books\nPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, [Users, Readers & Writers](/2/the-writebook-manual/29/users-readers-writers) for details.\n\n## Publishing to the web\nTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.\n\n ![publishing.gif](/u/publishing-vp0unp-FHFMjP.gif)\n\n## Public URLs\nYour book's public URL consists of the domain you provided when you set up Writebook plus a _slug_ derived from the title of the book. For example, if your Writebook is at `books.37signals.com`, then the title _Getting Real_ will be published at `books.37signals.com/getting-real`. You can change this slug if you don't like the one Writebook provided.\n\n### Redirecting\nVisitors who visit your URL without any book slug (.e.g., `books.37signals.com`) will be redirected to your published book. If you have more than one book published to the web, they'll see a list of all public books on your Writebook that are published. If you don't have any published books, they'll be directed to sign in.\n"], ["updated_at", "2025-09-22 16:47:10.694831"], ["id", 9]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.696303"], ["id", 9]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.696215"], ["id", 9]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.698231"], ["id", 9]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.699146"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Publishing on the web', content = 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.' where rowid = 9[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.708449"], ["updated_at", "2025-09-22 16:47:10.708449"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 10], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 10], ["name", "body"], ["content", "# ONCE command reference\n\nInstall and manage ONCE products.\n\nTo run the `once` command in a terminal connect to your server using with either `SSH` or a web-based cloud console.\n\n## Usage:\n\n`once` - [command]\n\n## Manage passwords\n\n`password`  - manage passwords\n\n## Manage automatic updates\n\n`auto-update` - manage automatic updates\n\n## Manage application data\n\n`data` - manage application data\n\n## Additional Commands:\n\n`help` - Help about any command\n`setup` - Re-run the initial setup of Writebook\n`start` - Start Writebook\n`status` - Show the current status\n`stop` - Stop Writebook\n`update` - Update Writebook to the latest version\n\n## Flags:\n\n`-h`, `--help`  - help for once\n\nUse `once [command] --help` for more information about a command.\n"], ["created_at", "2025-09-22 16:47:10.710695"], ["updated_at", "2025-09-22 16:47:10.710695"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 10], ["position_score", 10.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.711977"], ["updated_at", "2025-09-22 16:47:10.711977"], ["title", "The ONCE command"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.711891"], ["id", 10]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.716442"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.5ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (10, 'The ONCE command', 'ONCE command reference

Install and manage ONCE products.

To run the once command in a terminal connect to your server using with either SSH or a web-based cloud console.

Usage:once - [command]

Manage passwordspassword  - manage passwords

Manage automatic updatesauto-update - manage automatic updates

Manage application datadata - manage application data

Additional Commands:help - Help about any commandsetup - Re-run the initial setup of Writebookstart - Start Writebookstatus - Show the current statusstop - Stop Writebookupdate - Update Writebook to the latest version

Flags:-h, --help  - help for once

Use once [command] --help for more information about a command.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 10], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:27:in 'block in DemoContent.load_markdown_pages'
  [1m[35mSQL (1.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.729757"], ["updated_at", "2025-09-22 16:47:10.729757"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 11], ["name", "body"], ["content", "# Help\n\nEveryone gets stuck sometimes. Here's how to deal with some common situations.\n\n## I need to sign in on another device\n\nYou can easily sign in on another device without even typing your password by sharing your personal link.\n\n ![session-transfer.png](/u/session-transfer-xa3uF7.png)\n\n## Password recovery\n\nSomeone forgot their password and can't sign in. It happens. Administrators can access someone else's personal sign in link to help them get back in.\n\n ![password-recovery.png](/u/password-recovery-XKwPtX.png)\n"], ["created_at", "2025-09-22 16:47:10.732172"], ["updated_at", "2025-09-22 16:47:10.732172"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.1ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 11], ["position_score", 11.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.733546"], ["updated_at", "2025-09-22 16:47:10.733546"], ["title", "Need help?"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.733466"], ["id", 11]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.737946"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (11, 'Need help?', 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 11], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f] Performing ActiveStorage::AnalyzeJob (Job ID: 1bbb924c-b2be-4082-8c91-2b1299fc657f) from Async(default) enqueued at 2025-09-22T16:47:10.210320000Z with arguments: #<GlobalID:0x0000000124613698 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/6>>
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 11], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "chzjda125mtqzcp8vtfeufybjqp8"], ["filename", "session-transfer-xa3uF7.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 296697], ["checksum", "C6g6ir+h2QBdqY0ZK9LeeA=="], ["created_at", "2025-09-22 16:47:10.759102"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 11], ["blob_id", 11], ["created_at", "2025-09-22 16:47:10.760760"], ["slug", "session-transfer-xa3uf7-a7a2UK.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.764101"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.762277"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.768937"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.768878"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.771007"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.771811"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[35mSQL (15.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mActiveStorage::Attachment Load (16.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.779483"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.777026"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.783410"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.783342"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.785237"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.786070"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[35m (1.0ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
[36m  Disk Storage (20.7ms) [0m[32mUploaded file to key: chzjda125mtqzcp8vtfeufybjqp8 (checksum: C6g6ir+h2QBdqY0ZK9LeeA==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 30dde139-dd96-4b95-9573-75daa1d427a4) to Async(default) with arguments: #<GlobalID:0x0000000125df4708 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/11>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1bbb924c-b2be-4082-8c91-2b1299fc657f] Performed ActiveStorage::AnalyzeJob (Job ID: 1bbb924c-b2be-4082-8c91-2b1299fc657f) from Async(default) in 48.84ms
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.813736"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.811546"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.821792"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.821726"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.824758"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.827021"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 11], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "lapmbok34k5gss2r7rl1cpecxuc3"], ["filename", "password-recovery-XKwPtX.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 197049], ["checksum", "zvEcEHdR8orF+bWHZMHMPw=="], ["created_at", "2025-09-22 16:47:10.843914"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 11], ["blob_id", 12], ["created_at", "2025-09-22 16:47:10.846735"], ["slug", "password-recovery-xkwptx-Oc5d4u.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.850131"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.849823"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.855712"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.855636"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.858578"], ["id", 11]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.860281"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579] Performing ActiveStorage::AnalyzeJob (Job ID: b658d2a0-cb73-4aee-b7ff-73a4f5bf6579) from Async(default) enqueued at 2025-09-22T16:47:10.279736000Z with arguments: #<GlobalID:0x000000012627fb88 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579] Skipping image analysis because the ruby-vips gem isn't installed
[36m  Disk Storage (10.2ms) [0m[32mUploaded file to key: lapmbok34k5gss2r7rl1cpecxuc3 (checksum: zvEcEHdR8orF+bWHZMHMPw==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9c1d56ab-d39b-44c8-9144-1db60ae4a76e) to Async(default) with arguments: #<GlobalID:0x000000012621d5f0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/12>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mActiveStorage::Attachment Load (2.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 7]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.887953"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.884957"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.892708"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.892638"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.894738"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.895815"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (16.8ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[35mSQL (3.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[35m (5.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [b658d2a0-cb73-4aee-b7ff-73a4f5bf6579] Performed ActiveStorage::AnalyzeJob (Job ID: b658d2a0-cb73-4aee-b7ff-73a4f5bf6579) from Async(default) in 48.72ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.921692"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.919129"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.926178"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.926125"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.927907"], ["id", 11]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.928956"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Help\n\nEveryone gets stuck sometimes. Here's how to deal with some common situations.\n\n## I need to sign in on another device\n\nYou can easily sign in on another device without even typing your password by sharing your personal link.\n\n ![session-transfer.png](/u/session-transfer-xa3uf7-a7a2UK.png)\n\n## Password recovery\n\nSomeone forgot their password and can't sign in. It happens. Administrators can access someone else's personal sign in link to help them get back in.\n\n ![password-recovery.png](/u/password-recovery-xkwptx-Oc5d4u.png)\n"], ["updated_at", "2025-09-22 16:47:10.936958"], ["id", 11]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.938536"], ["id", 11]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.938461"], ["id", 11]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.940479"], ["id", 11]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.941312"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mSection Create (0.1ms)[0m  [1m[32mINSERT INTO "sections" ("created_at", "updated_at", "theme", "body") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.954521"], ["updated_at", "2025-09-22 16:47:10.954521"], ["theme", "dark"], ["body", "Appendix\n"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 1], ["leafable_type", "Section"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.2ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Section"], ["leafable_id", 1], ["position_score", 12.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.957604"], ["updated_at", "2025-09-22 16:47:10.957604"], ["title", "Appendix"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.960826"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.3ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (12, 'Appendix', 'Appendix
')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:10.964863"], ["updated_at", "2025-09-22 16:47:10.964863"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 12], ["name", "body"], ["content", "# Installing on Digital Ocean\n\nOne of the best ways to host Writebook is to use a cloud provider like <a href=\"https://www.digitalocean.com\" target=\"_blank\">Digital Ocean</a>. It's inexpensive and relatively easy to set up if you have a little technical know-how.\n\n**Once you've signed up for a Digital Ocean account**, just follow these steps to get set up. It should take less than 5 minutes.\n\n1. Choose `Create > Droplets` from the menu in your default project and pick a plan to get the server set up.  ![DO-create.png](/u/do-create-G0VYYI.png)\nMinimum requirements are 2GB RAM/1CPU. We recommend the following setup:  ![DO-plan.png](/u/do-plan-IZHiLO.png)\n\n2. Next, create a password for connecting to the server.  ![DO-password.png](/u/do-password-AVWxbD.png)\n\n3. Accept the rest of the defaults and hit \"Create Droplet\" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it's ready, click it to expand. ![DO-droplet.png](/u/do-droplet-JAJscl.png)\n\n4. Next, copy the `ipv4` address which we'll use to point your domain name to your new cloud server. ![DO-ip.png](/u/do-ip-dc4gQX.png)\n\n5. Now head over to wherever your domain is managed. Some common registrars are <a href=\"https://www.godaddy.com\" target=\"_blank\">GoDaddy</a>, <a href=\"https://www.namecheap.com\" target=\"_blank\">namecheap</a> or <a href=\"https://www.squarespace.com\" target=\"_blank\">Squarespace</a>. Sign in and look for a link to manage your domain. You need to add an `A record` that points to the IP you copied above. It'll look something like this: ![DO-a-record.png](/u/do-a-record-TBoVla.png)\n\n6. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. ![DO-console.png](/u/do-console-bswkQF.png)\n\n7. Finally, find the install command in the confirmation email we sent you and paste it into the command line: ![do-cli.png](/u/do-cli-QqIe5C.png)\n\n8. You'll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you'll see something like this: ![installation.png](/u/installation-qJ6Wol.png)\n\n9. You're done! Open the URL in your web browser and set up your Writebook account.\n"], ["created_at", "2025-09-22 16:47:10.968031"], ["updated_at", "2025-09-22 16:47:10.968031"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 12], ["position_score", 13.0], ["status", "active"], ["created_at", "2025-09-22 16:47:10.969584"], ["updated_at", "2025-09-22 16:47:10.969584"], ["title", "Installing on Digital Ocean"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.969482"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500] Performing ActiveStorage::AnalyzeJob (Job ID: 53996c69-9c47-4b24-b04f-d9f3c2c44500) from Async(default) enqueued at 2025-09-22T16:47:10.426699000Z with arguments: #<GlobalID:0x0000000125f5f9f8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/8>>
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:10.971746"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[35m (0.2ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (13, 'Installing on Digital Ocean', 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.')[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mActionText::Markdown Load (0.3ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 7], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.043855"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.040050"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.048272"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.048212"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.050994"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.052204"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[35m (1.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Using Markdown', content = 'Using Markdown

Text Pages in Writebook use Markdown, a simple formatting tool for writing on the web.

If you''re already a Markdown expert, you can write your book with the same formatting you''re accustomed to. Below you''ll find a handy reference.

But if you''re new to Markdown, Writebook''s text editing toolbar has the most common formatting tools for anyone who''s familiar with a word processor.



When you hit a formatting button, Writebook will wrap selected text in the corresponding Markdown formatting characters.

Basic formattingMarkdownConverted to HTMLResult**bold**<strong>bold</strong>bold_italic_<em>italic</em>italic`code`<code>code</code>code[link](url)<a href="url">link</a>linkHeadingsHeading levels 1–6 are indicated with one or more # characters.

# Heading 1
## Heading 2
### Heading 3
#### Heading 4
##### Heading 5
###### Heading 6Heading 1

Heading 2Heading 3Heading 4Heading 5Heading 6Block quotationsUse an email style > to create a block quotation.

 > It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.“It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of light, it was the season of darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to heaven, we were all going direct the other way–in short, the period was so far like the present period, that some of its noisiest authorities insisted on its being received, for good or for evil, in the superlative degree of comparison only.”

Code blocksUse three backticks to create a multi-line code block. Syntax highlighting is available when you specify the code language of the block.

``` ruby
puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"
```puts ''Hello, Writebook!''  # Print out "Hello, Writebook!"Horizontal rulesUse three asterisks (or dashes) in a row to make a horizontal rule.

***Advanced formattingWritebook also supports HTML formatting in your pages. Tags like <p>, <img>, <a>,  <h1>, <h2>, <strong>, <em>, <center>, <details>, <table>, <video>, and more are supported. You can also use CSS inside the inline style attribute like this tip for centering text uses.

Center text<p style="text-align: center">This is centered</p>This is centered

Open a link in a new tab/windowUse an HTML a element with the target attribute set to _blank (the preceding underscore is important) like this:

<a href="https://books.37signals.com" target="_blank">This opens in a new tab/window</a>This opens in a new tab/window

For a complete reference, see the official Markdown Syntax page.' where rowid = 7[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [53996c69-9c47-4b24-b04f-d9f3c2c44500] Performed ActiveStorage::AnalyzeJob (Job ID: 53996c69-9c47-4b24-b04f-d9f3c2c44500) from Async(default) in 95.39ms
  [1m[35mSQL (2.6ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "nx414jlsogv6sl8qj3t46m78lu3l"], ["filename", "do-create-G0VYYI.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 1711675], ["checksum", "SKxWmgR28LkLnp+7HJQOKA=="], ["created_at", "2025-09-22 16:47:11.070229"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 13], ["created_at", "2025-09-22 16:47:11.071610"], ["slug", "do-create-g0vyyi-AE4FyR.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.074358"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.072863"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.078636"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.078573"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.080097"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.080818"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (7.3ms) [0m[32mUploaded file to key: nx414jlsogv6sl8qj3t46m78lu3l (checksum: SKxWmgR28LkLnp+7HJQOKA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1871fa06-157f-4de5-8f72-b98813731588) to Async(default) with arguments: #<GlobalID:0x0000000124f4ac20 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/13>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.106966"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.104593"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.110377"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.110319"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.112031"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.112952"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca] Performing ActiveStorage::AnalyzeJob (Job ID: e5bdcbe1-0761-4599-8d68-98b94f28fcca) from Async(default) enqueued at 2025-09-22T16:47:10.552197000Z with arguments: #<GlobalID:0x00000001310de5f8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/9>>
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "tx1crw5vupj6q47d2e85oyd9qd1n"], ["filename", "do-plan-IZHiLO.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 154469], ["checksum", "MrGGh2QQtuLYYT1SsYIaYw=="], ["created_at", "2025-09-22 16:47:11.127789"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 14], ["created_at", "2025-09-22 16:47:11.132385"], ["slug", "do-plan-izhilo-dtImgq.png"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.135239"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.135102"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.138172"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.138070"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.139965"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.140785"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[35mSQL (7.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mActiveStorage::Attachment Load (8.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 8], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.148531"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.145789"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.153282"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.153175"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.155291"], ["id", 8]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.156319"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[36m  Disk Storage (15.1ms) [0m[32mUploaded file to key: tx1crw5vupj6q47d2e85oyd9qd1n (checksum: MrGGh2QQtuLYYT1SsYIaYw==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba) to Async(default) with arguments: #<GlobalID:0x0000000131adc1b8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/14>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[35m (2.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Reading', content = 'Reading

Clear typography that adapts to your device and screen size, a calm layout, and minimal distractions make reading a Writebook a pleasure. 

Here are a few more things you should know.

Full ScreenFor a more immersive, focused reading experience hit the expand button at the top of the screen to enter Full Screen mode (on supported devices). Full Screen hides most of the clutter and busyness of your browser and operating system so you can focus on reading. Hint: you can use Full Screen while writing, too!



Moving between pagesAs you reach the bottom of a page, you''ll find a button with the title of the next page. Just hit it to continue. The back arrow button at the top of the screen moves back to the previous page.

On devices with a hardware keyboard attached you can also simply hit the arrow keys to move between pages. Just press  → to turn to the next page and ← to go back. When you reach the end of the book, Writebook will return you to the table of contents.' where rowid = 8[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (1.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e5bdcbe1-0761-4599-8d68-98b94f28fcca] Performed ActiveStorage::AnalyzeJob (Job ID: e5bdcbe1-0761-4599-8d68-98b94f28fcca) from Async(default) in 45.53ms
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.187244"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.184770"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.191929"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.191840"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.193908"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.194821"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "1sr8lrty3o99h2otkls5kjm4ut6t"], ["filename", "do-password-AVWxbD.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 155473], ["checksum", "BXt8KhES5/N/j/uGKXLfmg=="], ["created_at", "2025-09-22 16:47:11.208950"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 15], ["created_at", "2025-09-22 16:47:11.210615"], ["slug", "do-password-avwxbd-MP1qAi.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.213854"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.213724"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.216646"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.216575"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.218623"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.219623"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: 1sr8lrty3o99h2otkls5kjm4ut6t (checksum: BXt8KhES5/N/j/uGKXLfmg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 251d2621-5ad5-4d5b-adc0-a26be9798541) to Async(default) with arguments: #<GlobalID:0x0000000124df84d0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/15>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 15]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 15]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.245801"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c] Performing ActiveStorage::AnalyzeJob (Job ID: 55790fe9-ae83-4480-a120-fa37c3f5452c) from Async(default) enqueued at 2025-09-22T16:47:10.663907000Z with arguments: #<GlobalID:0x000000012593edf8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/10>>
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.243452"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.251657"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.251588"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.257649"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c] Skipping image analysis because the ruby-vips gem isn't installed
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.258513"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[35mSQL (2.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mActiveStorage::Attachment Load (3.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 10]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 9], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.269804"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.266342"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.273458"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.273399"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.276964"], ["id", 9]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.278022"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (15.6ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[35mSQL (3.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[35m (6.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Publishing on the web', content = 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.' where rowid = 9[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [55790fe9-ae83-4480-a120-fa37c3f5452c] Performed ActiveStorage::AnalyzeJob (Job ID: 55790fe9-ae83-4480-a120-fa37c3f5452c) from Async(default) in 44.48ms
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "ty3de7olg1eyu3r57nebj8dy7e2d"], ["filename", "do-droplet-JAJscl.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 125567], ["checksum", "55rMyXAKyAOJyfu+2OA6Vw=="], ["created_at", "2025-09-22 16:47:11.294110"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 16], ["created_at", "2025-09-22 16:47:11.295782"], ["slug", "do-droplet-jajscl-at83uT.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.297335"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.297204"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.300012"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.2ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.299918"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.302082"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.303002"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: ty3de7olg1eyu3r57nebj8dy7e2d (checksum: 55rMyXAKyAOJyfu+2OA6Vw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ad391b1c-cf39-49e5-90c8-1aac0481df45) to Async(default) with arguments: #<GlobalID:0x00000001311dc6d0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/16>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 16]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 16]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.361643"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.350153"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.365295"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.365236"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.367490"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.368519"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "k2xssneww51so07hlg0093tv1v4o"], ["filename", "do-ip-dc4gQX.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 93775], ["checksum", "xBPLlGXLWkRGoS7O9NlM6w=="], ["created_at", "2025-09-22 16:47:11.380437"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 17], ["created_at", "2025-09-22 16:47:11.381817"], ["slug", "do-ip-dc4gqx-7b9rmQ.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.383338"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.383183"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.385921"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.385859"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.387570"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.388504"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: k2xssneww51so07hlg0093tv1v4o (checksum: xBPLlGXLWkRGoS7O9NlM6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4b8370a2-5e16-43bd-95ab-4d9c7086d88c) to Async(default) with arguments: #<GlobalID:0x0000000126015af0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/17>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4] Performing ActiveStorage::AnalyzeJob (Job ID: 30dde139-dd96-4b95-9573-75daa1d427a4) from Async(default) enqueued at 2025-09-22T16:47:10.794898000Z with arguments: #<GlobalID:0x0000000125dbc4c0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/11>>
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 17]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 17]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.414532"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.412074"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.418771"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.418699"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.420557"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.421787"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[35mSQL (11.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mActiveStorage::Attachment Load (12.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 11]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.430876"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.428162"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.434705"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.434506"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.439486"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.440387"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (15.7ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[35mSQL (3.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[35m (4.8ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [30dde139-dd96-4b95-9573-75daa1d427a4] Performed ActiveStorage::AnalyzeJob (Job ID: 30dde139-dd96-4b95-9573-75daa1d427a4) from Async(default) in 57.58ms
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "e229dlgbkpuuz2b0a96bh6fymuoe"], ["filename", "do-a-record-TBoVla.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 29788], ["checksum", "9kfuLQwpBm7mIojNHhl88A=="], ["created_at", "2025-09-22 16:47:11.455483"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 18], ["created_at", "2025-09-22 16:47:11.456805"], ["slug", "do-a-record-tbovla-trQJwr.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.459486"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.459352"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.461952"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.461864"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.463792"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.464518"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: e229dlgbkpuuz2b0a96bh6fymuoe (checksum: 9kfuLQwpBm7mIojNHhl88A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c1d78858-9fc7-413a-92d1-35e7f016ef6b) to Async(default) with arguments: #<GlobalID:0x0000000124332618 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/18>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 18]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 18]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e] Performing ActiveStorage::AnalyzeJob (Job ID: 9c1d56ab-d39b-44c8-9144-1db60ae4a76e) from Async(default) enqueued at 2025-09-22T16:47:10.875072000Z with arguments: #<GlobalID:0x0000000124d564a0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/12>>
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.496133"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e] Skipping image analysis because the ruby-vips gem isn't installed
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.490151"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.502865"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.502777"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.505280"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.506304"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[35mSQL (7.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mActiveStorage::Attachment Load (12.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 12]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 11], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.524129"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.519294"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.528431"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.528335"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.530373"], ["id", 11]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.532437"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (17.7ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[35mSQL (2.6ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[35m (4.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Need help?', content = 'Help

Everyone gets stuck sometimes. Here''s how to deal with some common situations.

I need to sign in on another deviceYou can easily sign in on another device without even typing your password by sharing your personal link.



Password recoverySomeone forgot their password and can''t sign in. It happens. Administrators can access someone else''s personal sign in link to help them get back in.' where rowid = 11[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c1d56ab-d39b-44c8-9144-1db60ae4a76e] Performed ActiveStorage::AnalyzeJob (Job ID: 9c1d56ab-d39b-44c8-9144-1db60ae4a76e) from Async(default) in 63.79ms
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "uune5rnn4mx1geqrea0u9qc93y63"], ["filename", "do-console-bswkQF.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 88157], ["checksum", "2PVDF0E9sUbftfEVQRnYUA=="], ["created_at", "2025-09-22 16:47:11.550565"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 19], ["created_at", "2025-09-22 16:47:11.552449"], ["slug", "do-console-bswkqf-MmZ79e.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.556975"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.556773"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.560789"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.560716"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.562975"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.563945"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: uune5rnn4mx1geqrea0u9qc93y63 (checksum: 2PVDF0E9sUbftfEVQRnYUA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 883b3afb-be64-4356-8b93-8f23bcea8977) to Async(default) with arguments: #<GlobalID:0x000000012627a228 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/19>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 19]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 19]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.589826"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.586472"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.593880"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.593803"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.596870"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.598157"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "fnjcx0m5kamg5kb6g5x63apdgele"], ["filename", "do-cli-QqIe5C.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 667184], ["checksum", "GrEsan+74YzQLkvVQeKn4A=="], ["created_at", "2025-09-22 16:47:11.613517"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 20], ["created_at", "2025-09-22 16:47:11.615903"], ["slug", "do-cli-qqie5c-6u9J14.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.3ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.619022"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.618869"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.623848"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.623716"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.626798"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.628125"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: fnjcx0m5kamg5kb6g5x63apdgele (checksum: GrEsan+74YzQLkvVQeKn4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9e15eb4f-dedb-4811-a2ee-375caad1295b) to Async(default) with arguments: #<GlobalID:0x00000001310dc668 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/20>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 20]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 20]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.661971"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.656450"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.667113"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.666930"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.670452"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.671760"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.3ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 12], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588] Performing ActiveStorage::AnalyzeJob (Job ID: 1871fa06-157f-4de5-8f72-b98813731588) from Async(default) enqueued at 2025-09-22T16:47:11.090033000Z with arguments: #<GlobalID:0x000000012599aa40 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/13>>
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "prw8wywhfyfawzy3q1o4qltlsi7x"], ["filename", "installation-qJ6Wol.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 238991], ["checksum", "Ov6sIsdVHMmZu83hBa5YtA=="], ["created_at", "2025-09-22 16:47:11.721836"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 12], ["blob_id", 21], ["created_at", "2025-09-22 16:47:11.726168"], ["slug", "installation-qj6wol-ta1zd8.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.729848"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.729413"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.732802"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.732723"], ["id", 12]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.734710"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.735758"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[35mSQL (13.2ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mActiveStorage::Attachment Load (14.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.745515"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.742189"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.749120"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.749064"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.751561"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.752586"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[36m  Disk Storage (20.2ms) [0m[32mUploaded file to key: prw8wywhfyfawzy3q1o4qltlsi7x (checksum: Ov6sIsdVHMmZu83hBa5YtA==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e186b9a2-48ba-42a1-bd42-573372a4d1ae) to Async(default) with arguments: #<GlobalID:0x00000001237bb028 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/21>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[35m (1.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [1871fa06-157f-4de5-8f72-b98813731588] Performed ActiveStorage::AnalyzeJob (Job ID: 1871fa06-157f-4de5-8f72-b98813731588) from Async(default) in 77.72ms
  [1m[35mSQL (1.8ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.3ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 21]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 21]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.783999"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.780461"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.2ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.787603"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.787522"], ["id", 12]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.789896"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.790780"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Installing on Digital Ocean\n\nOne of the best ways to host Writebook is to use a cloud provider like <a href=\"https://www.digitalocean.com\" target=\"_blank\">Digital Ocean</a>. It's inexpensive and relatively easy to set up if you have a little technical know-how.\n\n**Once you've signed up for a Digital Ocean account**, just follow these steps to get set up. It should take less than 5 minutes.\n\n1. Choose `Create > Droplets` from the menu in your default project and pick a plan to get the server set up.  ![DO-create.png](/u/do-create-g0vyyi-AE4FyR.png)\nMinimum requirements are 2GB RAM/1CPU. We recommend the following setup:  ![DO-plan.png](/u/do-plan-izhilo-dtImgq.png)\n\n2. Next, create a password for connecting to the server.  ![DO-password.png](/u/do-password-avwxbd-MP1qAi.png)\n\n3. Accept the rest of the defaults and hit \"Create Droplet\" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it's ready, click it to expand. ![DO-droplet.png](/u/do-droplet-jajscl-at83uT.png)\n\n4. Next, copy the `ipv4` address which we'll use to point your domain name to your new cloud server. ![DO-ip.png](/u/do-ip-dc4gqx-7b9rmQ.png)\n\n5. Now head over to wherever your domain is managed. Some common registrars are <a href=\"https://www.godaddy.com\" target=\"_blank\">GoDaddy</a>, <a href=\"https://www.namecheap.com\" target=\"_blank\">namecheap</a> or <a href=\"https://www.squarespace.com\" target=\"_blank\">Squarespace</a>. Sign in and look for a link to manage your domain. You need to add an `A record` that points to the IP you copied above. It'll look something like this: ![DO-a-record.png](/u/do-a-record-tbovla-trQJwr.png)\n\n6. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. ![DO-console.png](/u/do-console-bswkqf-MmZ79e.png)\n\n7. Finally, find the install command in the confirmation email we sent you and paste it into the command line: ![do-cli.png](/u/do-cli-qqie5c-6u9J14.png)\n\n8. You'll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you'll see something like this: ![installation.png](/u/installation-qj6wol-ta1zd8.png)\n\n9. You're done! Open the URL in your web browser and set up your Writebook account.\n"], ["updated_at", "2025-09-22 16:47:11.800974"], ["id", 12]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.802397"], ["id", 13]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.802304"], ["id", 12]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.804441"], ["id", 13]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.805508"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba] Performing ActiveStorage::AnalyzeJob (Job ID: f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba) from Async(default) enqueued at 2025-09-22T16:47:11.158891000Z with arguments: #<GlobalID:0x0000000125e36bf8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/14>>
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.828054"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.825310"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.832610"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.832548"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.834425"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.835356"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (13.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mPage Create (0.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:11.842192"], ["updated_at", "2025-09-22 16:47:11.842192"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 13], ["name", "body"], ["content", "# Installing on Hetzner\n\nOne of the best ways to host Writebook is to use a cloud provider like <a href=\"https://www.hetzner.com\" target=\"_blank\">Hetzner</a>. It's inexpensive and relatively easy to set up if you have a little technical know-how.\n\n**Once you've signed up for a Hetzner account**, just follow these steps to get set up. It should take less than 5 minutes.\n\n1. Choose `+ Create Server` in your default project and pick a plan to get the server set up.     ![hz-dash.png](/u/hz-dash-MUZN1e.png)\nMinimum requirements are 2GB RAM/1CPU. We recommend the following setup:   ![hz-plan.png](/u/hz-plan-57QAVM.png)\n\n3. Accept the rest of the defaults and hit `Create and Buy now` at the bottom of the screen. It will take just a few minutes for your server to be created.\n\n4. Once it's ready, copy the `Public IP` address which we'll use to point your domain name to your new cloud server.   ![hz-ip.png](/u/hz-ip-6FsMg0.png)\n\n5. Now head over to wherever your domain is managed. Some common registrars are <a href=\"https://www.godaddy.com\" target=\"_blank\">GoDaddy</a>, <a href=\"https://www.namecheap.com\" target=\"_blank\">namecheap</a> or <a href=\"https://www.squarespace.com\" target=\"_blank\">Squarespace</a>. Sign in and look for a link to manage your domain. You need to add an `A record` that points to the IP you copied above. It'll look something like this: ![DO-a-record.png](/u/do-a-record-TBoVla.png)\n\n6. Next, head back over to Hetzner and open the Console to connect to your server.   ![hz-console-menu.png](/u/hz-console-menu-yPBmdi.png)\n\n7. Finally, find the install command in the confirmation email we sent you and paste it into the command line: ![do-cli.png](/u/do-cli-QqIe5C.png)\n\n8. You'll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you'll see something like this: ![installation.png](/u/installation-qJ6Wol.png)\n\n9. You're done! Open the URL in your web browser and set up your Writebook account.\n"], ["created_at", "2025-09-22 16:47:11.845153"], ["updated_at", "2025-09-22 16:47:11.845153"]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ? [0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:115:in 'Positionable#with_positioning_lock'
  [1m[36mLeaf Maximum (0.0ms)[0m  [1m[34mSELECT MAX("leaves"."position_score") FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ?[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/models/concerns/positionable.rb:78:in 'Positionable#position_at_end'
  [1m[36mLeaf Create (0.1ms)[0m  [1m[32mINSERT INTO "leaves" ("book_id", "leafable_type", "leafable_id", "position_score", "status", "created_at", "updated_at", "title") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["book_id", 1], ["leafable_type", "Page"], ["leafable_id", 13], ["position_score", 14.0], ["status", "active"], ["created_at", "2025-09-22 16:47:11.846760"], ["updated_at", "2025-09-22 16:47:11.846760"], ["title", "Installing on Hetzner"]]
  ↳ app/models/concerns/positionable.rb:69:in 'block in Positionable#insert_at_default_position'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.846677"], ["id", 13]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.849226"], ["id", 1]]
  ↳ app/models/book.rb:13:in 'Book#press'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/book.rb:13:in 'Book#press'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[35mSQL (11.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[35m (13.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (1.5ms)[0m  [1m[32minsert into leaf_search_index(rowid, title, content ) values (14, 'Installing on Hetzner', 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.')[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba] Performed ActiveStorage::AnalyzeJob (Job ID: f9f8dfaf-1984-45bb-bdfb-d2e612a9bfba) from Async(default) in 49.08ms
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "o88vlft9smf7q5nte9fbgkrv85em"], ["filename", "hz-dash-MUZN1e.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 164431], ["checksum", "3UbTvFgR/6kKNGg0S9VqoQ=="], ["created_at", "2025-09-22 16:47:11.862976"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 22], ["created_at", "2025-09-22 16:47:11.864395"], ["slug", "hz-dash-muzn1e-xVtDto.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.867575"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.865800"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.871806"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.871734"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.873662"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.874499"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (2.2ms) [0m[32mUploaded file to key: o88vlft9smf7q5nte9fbgkrv85em (checksum: 3UbTvFgR/6kKNGg0S9VqoQ==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 731e05e0-6663-43b1-b65b-dd233b598e3b) to Async(default) with arguments: #<GlobalID:0x00000001310da570 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/22>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 22]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 22]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.895165"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.892516"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.898356"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.898301"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.899925"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.900771"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541] Performing ActiveStorage::AnalyzeJob (Job ID: 251d2621-5ad5-4d5b-adc0-a26be9798541) from Async(default) enqueued at 2025-09-22T16:47:11.227680000Z with arguments: #<GlobalID:0x0000000125997570 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/15>>
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "w55ht79z5f8ccao6z8pyrvyjdxve"], ["filename", "hz-plan-57QAVM.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 199824], ["checksum", "jTjDkQyMhNREYqrt/DXwmQ=="], ["created_at", "2025-09-22 16:47:11.913994"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541] Skipping image analysis because the ruby-vips gem isn't installed
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 23], ["created_at", "2025-09-22 16:47:11.918589"], ["slug", "hz-plan-57qavm-okTGKr.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.921057"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.920915"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.923433"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.923375"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.927604"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.928678"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[35mSQL (10.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mActiveStorage::Attachment Load (11.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 15]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.937164"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.933214"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.942305"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.942217"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.944204"], ["id", 13]]
[36m  Disk Storage (14.4ms) [0m[32mUploaded file to key: w55ht79z5f8ccao6z8pyrvyjdxve (checksum: jTjDkQyMhNREYqrt/DXwmQ==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.945073"], ["id", 1]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8) to Async(default) with arguments: #<GlobalID:0x00000001229ee558 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/23>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[35mSQL (4.2ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[35m (6.0ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [251d2621-5ad5-4d5b-adc0-a26be9798541] Performed ActiveStorage::AnalyzeJob (Job ID: 251d2621-5ad5-4d5b-adc0-a26be9798541) from Async(default) in 55.74ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 23]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 23]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.995323"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:11.991962"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.004015"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.003948"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.007552"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.008485"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "ney0g0rr48fvniu4oe39uhiduf0m"], ["filename", "hz-ip-6FsMg0.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 96697], ["checksum", "+h4pRFO6XpCp2rYKni4DVA=="], ["created_at", "2025-09-22 16:47:12.023754"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 24], ["created_at", "2025-09-22 16:47:12.025164"], ["slug", "hz-ip-6fsmg0-62rZiZ.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.026868"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.026708"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.029737"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (1.5ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.029654"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.033116"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.033919"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: ney0g0rr48fvniu4oe39uhiduf0m (checksum: +h4pRFO6XpCp2rYKni4DVA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f9d2d045-0a68-4dc5-8433-b418294d1bcc) to Async(default) with arguments: #<GlobalID:0x0000000125dff4c8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/24>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 24]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 24]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.055165"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.052575"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.058769"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.058689"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.060811"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.061598"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45] Performing ActiveStorage::AnalyzeJob (Job ID: ad391b1c-cf39-49e5-90c8-1aac0481df45) from Async(default) enqueued at 2025-09-22T16:47:11.306677000Z with arguments: #<GlobalID:0x000000013131ec00 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/16>>
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "y8j7ntz620urlmk8r1530zvdb29e"], ["filename", "do-a-record-TBoVla.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 29788], ["checksum", "9kfuLQwpBm7mIojNHhl88A=="], ["created_at", "2025-09-22 16:47:12.076783"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 25], ["created_at", "2025-09-22 16:47:12.078645"], ["slug", "do-a-record-tbovla-7le207.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.083340"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45] Skipping image analysis because the ruby-vips gem isn't installed
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.083176"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.087463"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.087382"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.089149"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.089963"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[35mSQL (4.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mActiveStorage::Attachment Load (6.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 16]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.097669"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.095041"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.101576"], ["id", 13]]
[36m  Disk Storage (10.5ms) [0m[32mUploaded file to key: y8j7ntz620urlmk8r1530zvdb29e (checksum: 9kfuLQwpBm7mIojNHhl88A==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.101502"], ["id", 12]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ba58255c-565a-41c6-b934-2abb71d7acc7) to Async(default) with arguments: #<GlobalID:0x0000000131ad41e8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/25>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.103811"], ["id", 13]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.104942"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[35mSQL (2.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[35m (4.4ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ad391b1c-cf39-49e5-90c8-1aac0481df45] Performed ActiveStorage::AnalyzeJob (Job ID: ad391b1c-cf39-49e5-90c8-1aac0481df45) from Async(default) in 47.93ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 25]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 25]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.127964"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.125251"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.131913"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.131847"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.133855"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.134800"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "yghfdhqj91pyfddamds6aryq3rlc"], ["filename", "hz-console-menu-yPBmdi.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 151624], ["checksum", "nS4k17PcgZQT5/cjk4nDyw=="], ["created_at", "2025-09-22 16:47:12.146915"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 26], ["created_at", "2025-09-22 16:47:12.148799"], ["slug", "hz-console-menu-ypbmdi-KDNvjV.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.150335"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.150217"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c] Performing ActiveStorage::AnalyzeJob (Job ID: 4b8370a2-5e16-43bd-95ab-4d9c7086d88c) from Async(default) enqueued at 2025-09-22T16:47:11.391447000Z with arguments: #<GlobalID:0x0000000124b750a0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/17>>
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.154304"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.154239"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.158548"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.162545"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[35mSQL (1.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mActiveStorage::Attachment Load (4.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 17]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.173865"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.171114"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.179156"], ["id", 13]]
[36m  Disk Storage (14.4ms) [0m[32mUploaded file to key: yghfdhqj91pyfddamds6aryq3rlc (checksum: nS4k17PcgZQT5/cjk4nDyw==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.179077"], ["id", 12]]
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4b780335-0b3c-4a0d-a9d1-5e0837f601cb) to Async(default) with arguments: #<GlobalID:0x00000001219906e8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/26>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.181671"], ["id", 13]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.184239"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (3.6ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[35mSQL (3.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[35m (4.5ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b8370a2-5e16-43bd-95ab-4d9c7086d88c] Performed ActiveStorage::AnalyzeJob (Job ID: 4b8370a2-5e16-43bd-95ab-4d9c7086d88c) from Async(default) in 50.89ms
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 26]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 26]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.212035"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.208201"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.215409"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.215350"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.217051"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.217999"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "bf07gfyktr02v2gg324kh3bd6s3v"], ["filename", "do-cli-QqIe5C.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 667184], ["checksum", "GrEsan+74YzQLkvVQeKn4A=="], ["created_at", "2025-09-22 16:47:12.232051"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 27], ["created_at", "2025-09-22 16:47:12.235601"], ["slug", "do-cli-qqie5c-mTMWiw.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.237225"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.237094"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.239461"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.239410"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.241400"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.242232"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: bf07gfyktr02v2gg324kh3bd6s3v (checksum: GrEsan+74YzQLkvVQeKn4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8649d5ad-fea1-40bc-9069-dd60f42e8fc7) to Async(default) with arguments: #<GlobalID:0x0000000125e38a48 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/27>>
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Skipping image analysis because the ruby-vips gem isn't installed
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 27]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 27]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.267401"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.264801"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.270970"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.270882"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.273876"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.274740"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ?[0m  [["record_id", 13], ["record_type", "ActionText::Markdown"], ["name", "uploads"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["key", "zk78uixd59r7adtq7d6sv0b1b2jr"], ["filename", "installation-qJ6Wol.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 238991], ["checksum", "Ov6sIsdVHMmZu83hBa5YtA=="], ["created_at", "2025-09-22 16:47:12.286934"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at", "slug") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "uploads"], ["record_type", "ActionText::Markdown"], ["record_id", 13], ["blob_id", 28], ["created_at", "2025-09-22 16:47:12.289023"], ["slug", "installation-qj6wol-GOsq2E.png"]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.290399"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.290283"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.293037"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.292952"], ["id", 13]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.294731"], ["id", 14]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.295532"], ["id", 1]]
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b] Performing ActiveStorage::AnalyzeJob (Job ID: c1d78858-9fc7-413a-92d1-35e7f016ef6b) from Async(default) enqueued at 2025-09-22T16:47:11.469505000Z with arguments: #<GlobalID:0x000000013185c280 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/18>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b] Skipping image analysis because the ruby-vips gem isn't installed
[36m  Disk Storage (14.3ms) [0m[32mUploaded file to key: zk78uixd59r7adtq7d6sv0b1b2jr (checksum: Ov6sIsdVHMmZu83hBa5YtA==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6bf25835-6baf-4045-baf4-08278473b2a5) to Async(default) with arguments: #<GlobalID:0x0000000131850638 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/28>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 18]]
[ActiveJob] ↳ app/models/demo_content.rb:49:in 'block (2 levels) in DemoContent.attach_images'
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.320302"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.317878"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.323807"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.323755"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.325905"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.326815"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  [1m[35mSQL (11.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[35mSQL (3.9ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[35m (4.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1d78858-9fc7-413a-92d1-35e7f016ef6b] Performed ActiveStorage::AnalyzeJob (Job ID: c1d78858-9fc7-413a-92d1-35e7f016ef6b) from Async(default) in 39.46ms
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Blob Update (0.1ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 28]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 28]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.348159"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.345400"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.351446"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.351360"], ["id", 13]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.353252"], ["id", 14]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.353962"], ["id", 1]]
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:52:in 'block in DemoContent.attach_images'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Installing on Hetzner\n\nOne of the best ways to host Writebook is to use a cloud provider like <a href=\"https://www.hetzner.com\" target=\"_blank\">Hetzner</a>. It's inexpensive and relatively easy to set up if you have a little technical know-how.\n\n**Once you've signed up for a Hetzner account**, just follow these steps to get set up. It should take less than 5 minutes.\n\n1. Choose `+ Create Server` in your default project and pick a plan to get the server set up.     ![hz-dash.png](/u/hz-dash-muzn1e-xVtDto.png)\nMinimum requirements are 2GB RAM/1CPU. We recommend the following setup:   ![hz-plan.png](/u/hz-plan-57qavm-okTGKr.png)\n\n3. Accept the rest of the defaults and hit `Create and Buy now` at the bottom of the screen. It will take just a few minutes for your server to be created.\n\n4. Once it's ready, copy the `Public IP` address which we'll use to point your domain name to your new cloud server.   ![hz-ip.png](/u/hz-ip-6fsmg0-62rZiZ.png)\n\n5. Now head over to wherever your domain is managed. Some common registrars are <a href=\"https://www.godaddy.com\" target=\"_blank\">GoDaddy</a>, <a href=\"https://www.namecheap.com\" target=\"_blank\">namecheap</a> or <a href=\"https://www.squarespace.com\" target=\"_blank\">Squarespace</a>. Sign in and look for a link to manage your domain. You need to add an `A record` that points to the IP you copied above. It'll look something like this: ![DO-a-record.png](/u/do-a-record-tbovla-7le207.png)\n\n6. Next, head back over to Hetzner and open the Console to connect to your server.   ![hz-console-menu.png](/u/hz-console-menu-ypbmdi-KDNvjV.png)\n\n7. Finally, find the install command in the confirmation email we sent you and paste it into the command line: ![do-cli.png](/u/do-cli-qqie5c-mTMWiw.png)\n\n8. You'll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you'll see something like this: ![installation.png](/u/installation-qj6wol-GOsq2E.png)\n\n9. You're done! Open the URL in your web browser and set up your Writebook account.\n"], ["updated_at", "2025-09-22 16:47:12.360490"], ["id", 13]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.361824"], ["id", 14]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.361737"], ["id", 13]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.363904"], ["id", 14]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.364664"], ["id", 1]]
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:57:in 'DemoContent.attach_images'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."leafable_type" = ?[0m  [["book_id", 1], ["leafable_type", "Page"]]
  ↳ app/models/demo_content.rb:31:in 'DemoContent.load_markdown_pages'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Installation\n\nSince Writebook is something you need to install and host yourself, you’ll need a few things before you begin:\n\n1. Your own domain name.\n2. A web server connected to the internet.\n3. Some basic technical know-how.\n\nWhile Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.\n\nOk, let’s get into it.\n\nHere’s how to get it running on your end:\n\n1. **FIRST, pick a machine to host Writebook.** If you need one in the cloud, we recommend checking out <a href=\"https://www.digitalocean.com\" target=\"_blank\">Digital Ocean</a> ([instructions](/2/the-writebook-manual/180/installing-on-digital-ocean)) or <a href=\"https://www.hetzner.com\" target=\"_blank\">Hetzner</a> ([instructions](/1/the-writebook-manual/14/installing-on-hetzner)).\n2. **THEN, point DNS to the IP address of the machine that’ll be hosting Writebook**. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).\n3. **NEXT, connect a terminal to the machine**. To run the install command, you must connect to the machine you’re using with either `SSH` or a web-based cloud console.\n4. **LAST, install Writebook with one simple command**. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).\n\nYou personal install command will look something like this:\n```\n/bin/bash -c \"$(curl -fsSL http://once.test/install/5555-5555-5555-5555)\"\n```\n\n**IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook**\n\nRunning this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.\n\n ![Screenshot 2024-06-19 at 8.02.28 PM.png](/u/screenshot-2024-06-19-at-8-02-28-pm-pfwflf-KK5vR3.png)\n\nThat’s it! Now you’re ready to setup the first user on the new installation. Go to the `https://YOUR-DOMAIN` and the process will begin. Then you’ll be ready to invite the rest of your team to the system.\n\nYour Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.\n\nEnjoy publishing with Writebook!\n\n**P.S.** If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.\n"], ["updated_at", "2025-09-22 16:47:12.378073"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977] Performing ActiveStorage::AnalyzeJob (Job ID: 883b3afb-be64-4356-8b93-8f23bcea8977) from Async(default) enqueued at 2025-09-22T16:47:11.567286000Z with arguments: #<GlobalID:0x0000000121633040 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/19>>
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 2], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.386775"], ["id", 2]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.383306"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977] Skipping image analysis because the ruby-vips gem isn't installed
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.395749"], ["id", 2]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.396672"], ["id", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installation', content = 'Installation

Since Writebook is something you need to install and host yourself, you’ll need a few things before you begin:

2. Your own domain name.
4. A web server connected to the internet.
6. Some basic technical know-how.

While Writebook isn’t difficult to set up, if you’re not a technical person you might want to get a techy friend to help.

Ok, let’s get into it.

Here’s how to get it running on your end:

2. FIRST, pick a machine to host Writebook. If you need one in the cloud, we recommend checking out Digital Ocean (instructions) or Hetzner (instructions).
4. THEN, point DNS to the IP address of the machine that’ll be hosting Writebook. You need to point a domain (example.com) or subdomain (books.example.com) to the IP address of the machine hosting Writebook. Make sure it’s a straight DNS pointer, no proxying! (Don’t worry about SSL, Writebook will automatically set that up for you).
6. NEXT, connect a terminal to the machine. To run the install command, you must connect to the machine you’re using with either SSH or a web-based cloud console.
8. LAST, install Writebook with one simple command. Paste the command you received via email into the terminal on your server and wait while everything is installed (this may take up to 5 minutes).

You personal install command will look something like this:

/bin/bash -c "$(curl -fsSL http://once.test/install/5555-5555-5555-5555)"IMPORTANT NOTE: Do not give this install command out to anyone, or share it on the public internet. It is personalized to you, and the license is tied back to you. Your personalized purchase token can be found in the email you received after you downloaded Writebook

Running this command will automatically install Docker on your server if you’re using Linux (which is what everything in the cloud usually runs), then download the latest Writebook application as a container that can run on top of Docker. In the process, it’ll ask for the domain name you’re using to host Writebook, so that we can configure an SSL certificate for you.



That’s it! Now you’re ready to setup the first user on the new installation. Go to the https://YOUR-DOMAIN and the process will begin. Then you’ll be ready to invite the rest of your team to the system.

Your Writebook installation will automatically update to the latest version every night at 2am (local time of your server). You can turn this off via the once command. You can also use this command to take a backup of your data, reset a password, and several other administrative functions. Just connect a terminal to the machine again and run the once command to see all the options.

Enjoy publishing with Writebook!

P.S. If you’d like to run multiple installations of Writebook, you’ll need to get one license per installation/domain.' where rowid = 2[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[35mSQL (11.2ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mActiveStorage::Attachment Load (12.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 19]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.416474"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.411780"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.420614"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.420509"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.423787"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.424746"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (10.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[35m (3.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [883b3afb-be64-4356-8b93-8f23bcea8977] Performed ActiveStorage::AnalyzeJob (Job ID: 883b3afb-be64-4356-8b93-8f23bcea8977) from Async(default) in 58.89ms
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Writing\n\nWe've designed Writebook to be a calm, enjoyable and distraction-free place to write.\n\nHere's what you need to know.\n\n## Editing mode\n\nThe first step when working on your book is to flip the switch and enter _Editing mode_. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you're done working or toggle it anytime to preview your changes as readers will see them.\n\n ![edit-mode.gif](/u/edit-mode-ygeccm-7Cubub.gif)\n\n## Autosave\n\nWritebook automatically saves as you write so you don't have to think about saving or worry about losing your work. The _Save_ button in the page toolbar continually comminicates where the are unsaved changes, when it's in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it'll save for you even if you don't.\n\n ![autosave.gif](/u/autosave-ssql4x-BIRw7w.gif)\n\n## Full Screen\n\nFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). [Full Screen](/1/the-writebook-manual/8/reading#fullscreen) hides most of the clutter and busyness of your device and operating system so you can focus on your work. _Hint: you can use Full Screen while reading, too!_\n\n## Version history\n\nAs you work on your book, Writebook will track when you've made a batch of changes and record them as a new version. Hit the _History_ button next to the _Save_ button to browse through previous versions of any page.\n"], ["updated_at", "2025-09-22 16:47:12.446446"], ["id", 6]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 6], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.449308"], ["id", 6]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.447940"], ["id", 6]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.452949"], ["id", 6]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.453852"], ["id", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.1ms)[0m  [1m[33mupdate leaf_search_index set title = 'Writing with Writebook', content = 'Writing

We''ve designed Writebook to be a calm, enjoyable and distraction-free place to write.

Here''s what you need to know.

Editing modeThe first step when working on your book is to flip the switch and enter Editing mode. That will reveal the page toolbar and save button. Edit mode stays on even as you move around to other pages in your book while working. You can turn it off when you''re done working or toggle it anytime to preview your changes as readers will see them.



AutosaveWritebook automatically saves as you write so you don''t have to think about saving or worry about losing your work. The Save button in the page toolbar continually comminicates where the are unsaved changes, when it''s in the process of saving, and when all changes have been saved. You can hit the button if you want to, but it''ll save for you even if you don''t.



Full ScreenFor more immersive, distraction-free writing hit the expand button at the top of the screen to enter fullscreen mode (on supported devices). Full Screen hides most of the clutter and busyness of your device and operating system so you can focus on your work. Hint: you can use Full Screen while reading, too!

Version historyAs you work on your book, Writebook will track when you''ve made a batch of changes and record them as a new version. Hit the History button next to the Save button to browse through previous versions of any page.' where rowid = 6[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Publishing your book\n\nWritebook can be used to publish private books just for your team, or public books available for everyone on the web.\n\n## Private books\nPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, [Users, Readers & Writers](/1/the-writebook-manual/3/users-readers-writers) for details.\n\n## Publishing to the web\nTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.\n\n ![publishing.gif](/u/publishing-vp0unp-FHFMjP.gif)\n\n## Public URLs\nYour book's public URL consists of the domain you provided when you set up Writebook plus a _slug_ derived from the title of the book. For example, if your Writebook is at `books.37signals.com`, then the title _Getting Real_ will be published at `books.37signals.com/getting-real`. You can change this slug if you don't like the one Writebook provided.\n\n### Redirecting\nVisitors who visit your URL without any book slug (.e.g., `books.37signals.com`) will be redirected to your published book. If you have more than one book published to the web, they'll see a list of all public books on your Writebook that are published. If you don't have any published books, they'll be directed to sign in.\n"], ["updated_at", "2025-09-22 16:47:12.472764"], ["id", 9]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 9], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.475997"], ["id", 9]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.474257"], ["id", 9]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.480068"], ["id", 9]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.481157"], ["id", 1]]
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[35m (0.2ms)[0m  [1m[33mupdate leaf_search_index set title = 'Publishing on the web', content = 'Publishing your book

Writebook can be used to publish private books just for your team, or public books available for everyone on the web.

Private booksPrivate books are available to anyone who is signed in to your Writebook and has permission to read a book. See the section, Users, Readers & Writers for details.

Publishing to the webTo make a book available to everyone on the internet, just flip the switch from locked to web. Your book will be instantly available at the URL displayed when the switch is on. There are tools below to display a QR code or copy the URL so you can share it in an email, text, or chat—or link to it on your home page.



Public URLsYour book''s public URL consists of the domain you provided when you set up Writebook plus a slug derived from the title of the book. For example, if your Writebook is at books.37signals.com, then the title Getting Real will be published at books.37signals.com/getting-real. You can change this slug if you don''t like the one Writebook provided.

RedirectingVisitors who visit your URL without any book slug (.e.g., books.37signals.com) will be redirected to your published book. If you have more than one book published to the web, they''ll see a list of all public books on your Writebook that are published. If you don''t have any published books, they''ll be directed to sign in.' where rowid = 9[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/models/demo_content.rb:31:in 'block in DemoContent.load_markdown_pages'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/demo_content.rb:78:in 'DemoContent.localize_ref_links'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b] Performing ActiveStorage::AnalyzeJob (Job ID: 9e15eb4f-dedb-4811-a2ee-375caad1295b) from Async(default) enqueued at 2025-09-22T16:47:11.634538000Z with arguments: #<GlobalID:0x00000001311d8030 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/20>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 20]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.523084"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.520103"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.527392"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.527318"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.529311"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.530257"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35mSQL (13.8ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ app/models/session.rb:11:in 'Session.start!'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/session.rb:11:in 'Session.start!'
  [1m[36mSession Create (0.1ms)[0m  [1m[32mINSERT INTO "sessions" ("user_id", "token", "ip_address", "user_agent", "last_active_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["ip_address", "127.0.0.1"], ["user_agent", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"], ["last_active_at", "2025-09-22 16:47:12.537801"], ["created_at", "2025-09-22 16:47:12.537761"], ["updated_at", "2025-09-22 16:47:12.537761"]]
  ↳ app/models/session.rb:11:in 'Session.start!'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/session.rb:11:in 'Session.start!'
Redirected to http://127.0.0.1:3000/
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[35mSQL (3.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
Completed 302 Found in 3483ms (ActiveRecord: 251.9ms (1097 queries, 0 cached) | GC: 310.1ms)


[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[35m (4.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e15eb4f-dedb-4811-a2ee-375caad1295b] Performed ActiveStorage::AnalyzeJob (Job ID: 9e15eb4f-dedb-4811-a2ee-375caad1295b) from Async(default) in 35.47ms
Started GET "/" for 127.0.0.1 at 2025-09-22 09:47:12 -0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae] Performing ActiveStorage::AnalyzeJob (Job ID: e186b9a2-48ba-42a1-bd42-573372a4d1ae) from Async(default) enqueued at 2025-09-22T16:47:11.759526000Z with arguments: #<GlobalID:0x00000001261d24d8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/21>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 21]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 12], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.567466"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.564751"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.571258"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.571173"], ["id", 12]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.573383"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.574448"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Digital Ocean', content = 'Installing on Digital Ocean

One of the best ways to host Writebook is to use a cloud provider like Digital Ocean. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Digital Ocean account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose Create > Droplets from the menu in your default project and pick a plan to get the server set up.  
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:  
4. Next, create a password for connecting to the server.  
6. Accept the rest of the defaults and hit "Create Droplet" at the bottom of the screen. It will take just a few minutes for your droplet to be created. Once it''s ready, click it to expand. 
8. Next, copy the ipv4 address which we''ll use to point your domain name to your new cloud server. 
10. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
12. Next, head back over to your Digital Ocean Droplet and open the Console to connect to your server. 
14. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
16. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
18. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 13[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [e186b9a2-48ba-42a1-bd42-573372a4d1ae] Performed ActiveStorage::AnalyzeJob (Job ID: e186b9a2-48ba-42a1-bd42-573372a4d1ae) from Async(default) in 26.74ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b] Performing ActiveStorage::AnalyzeJob (Job ID: 731e05e0-6663-43b1-b65b-dd233b598e3b) from Async(default) enqueued at 2025-09-22T16:47:11.878783000Z with arguments: #<GlobalID:0x0000000124d9a178 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/22>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 22]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.601507"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.598872"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.608388"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mPage Update (0.4ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.608297"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.613894"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.619810"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[35m (0.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [731e05e0-6663-43b1-b65b-dd233b598e3b] Performed ActiveStorage::AnalyzeJob (Job ID: 731e05e0-6663-43b1-b65b-dd233b598e3b) from Async(default) in 69.04ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8] Performing ActiveStorage::AnalyzeJob (Job ID: 7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8) from Async(default) enqueued at 2025-09-22T16:47:11.945500000Z with arguments: #<GlobalID:0x00000001229522e8 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/23>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 23]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.695449"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.691595"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.699008"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.698956"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.702578"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.703652"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[35m (0.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8] Performed ActiveStorage::AnalyzeJob (Job ID: 7ef5c828-8d6f-45a8-93a5-28cf4e3ae8d8) from Async(default) in 32.36ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc] Performing ActiveStorage::AnalyzeJob (Job ID: f9d2d045-0a68-4dc5-8433-b418294d1bcc) from Async(default) enqueued at 2025-09-22T16:47:12.037366000Z with arguments: #<GlobalID:0x0000000124e7b498 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/24>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 24]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.736067"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.733217"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.739664"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.739579"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.743393"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.744238"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[35m (0.8ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9d2d045-0a68-4dc5-8433-b418294d1bcc] Performed ActiveStorage::AnalyzeJob (Job ID: f9d2d045-0a68-4dc5-8433-b418294d1bcc) from Async(default) in 32.03ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7] Performing ActiveStorage::AnalyzeJob (Job ID: ba58255c-565a-41c6-b934-2abb71d7acc7) from Async(default) enqueued at 2025-09-22T16:47:12.103186000Z with arguments: #<GlobalID:0x0000000125df1a80 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/25>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 25]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
Processing by BooksController#index as TURBO_STREAM
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.777708"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.774849"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.781069"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.781023"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.783482"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.784376"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[35m (0.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba58255c-565a-41c6-b934-2abb71d7acc7] Performed ActiveStorage::AnalyzeJob (Job ID: ba58255c-565a-41c6-b934-2abb71d7acc7) from Async(default) in 31.42ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb] Performing ActiveStorage::AnalyzeJob (Job ID: 4b780335-0b3c-4a0d-a9d1-5e0837f601cb) from Async(default) enqueued at 2025-09-22T16:47:12.180982000Z with arguments: #<GlobalID:0x00000001263f3870 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/26>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 26]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.826134"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mActionText::Markdown Update (0.2ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.819889"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.834293"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.834185"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.838369"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.839807"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[35m (1.0ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b780335-0b3c-4a0d-a9d1-5e0837f601cb] Performed ActiveStorage::AnalyzeJob (Job ID: 4b780335-0b3c-4a0d-a9d1-5e0837f601cb) from Async(default) in 48.82ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7] Performing ActiveStorage::AnalyzeJob (Job ID: 8649d5ad-fea1-40bc-9069-dd60f42e8fc7) from Async(default) enqueued at 2025-09-22T16:47:12.249557000Z with arguments: #<GlobalID:0x00000001311dfb78 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/27>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mActiveStorage::Attachment Load (2.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 27]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.873212"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.870200"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.878018"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.877913"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.879936"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.881554"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8649d5ad-fea1-40bc-9069-dd60f42e8fc7] Performed ActiveStorage::AnalyzeJob (Job ID: 8649d5ad-fea1-40bc-9069-dd60f42e8fc7) from Async(default) in 32.19ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5] Performing ActiveStorage::AnalyzeJob (Job ID: 6bf25835-6baf-4045-baf4-08278473b2a5) from Async(default) enqueued at 2025-09-22T16:47:12.312925000Z with arguments: #<GlobalID:0x000000012345f0f0 @uri=#<URI::GID gid://writebook/ActiveStorage::Blob/28>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5] Skipping image analysis because the ruby-vips gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = ?[0m  [["blob_id", 28]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."id" = ?[0m  [["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 13], ["leafable_type", "Page"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.907946"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.904963"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.912466"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.912394"], ["id", 13]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.914191"], ["id", 14]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:12.916095"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Installing on Hetzner', content = 'Installing on Hetzner

One of the best ways to host Writebook is to use a cloud provider like Hetzner. It''s inexpensive and relatively easy to set up if you have a little technical know-how.

Once you''ve signed up for a Hetzner account, just follow these steps to get set up. It should take less than 5 minutes.

2. Choose + Create Server in your default project and pick a plan to get the server set up.     
Minimum requirements are 2GB RAM/1CPU. We recommend the following setup:   
4. Accept the rest of the defaults and hit Create and Buy now at the bottom of the screen. It will take just a few minutes for your server to be created.
6. Once it''s ready, copy the Public IP address which we''ll use to point your domain name to your new cloud server.   
8. Now head over to wherever your domain is managed. Some common registrars are GoDaddy, namecheap or Squarespace. Sign in and look for a link to manage your domain. You need to add an A record that points to the IP you copied above. It''ll look something like this: 
10. Next, head back over to Hetzner and open the Console to connect to your server.   
12. Finally, find the install command in the confirmation email we sent you and paste it into the command line: 
14. You''ll be asked which domain name you will be using. That needs to be the same as the A record you set up in your domain manager. Type it in and ONCE will handle the rest. A few minutes later you''ll see something like this: 
16. You''re done! Open the URL in your web browser and set up your Writebook account.' where rowid = 14[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5]   ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6bf25835-6baf-4045-baf4-08278473b2a5] Performed ActiveStorage::AnalyzeJob (Job ID: 6bf25835-6baf-4045-baf4-08278473b2a5) from Async(default) in 30.01ms
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) ORDER BY "books"."title" ASC[0m  [["user_id", 1], ["published", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:2
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:6
  Rendered collection of books/_book.html.erb [1 times] (Duration: 2.6ms | GC: 0.0ms)
  Rendered books/_new.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered books/index.html.erb within layouts/application (Duration: 7.8ms | GC: 1.1ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 2.2ms)
Completed 200 OK in 202ms (Views: 11.1ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 36.3ms)


Started GET "/assets/settings-aee56972.svg" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6MSwicHVyIjoiYmxvYl9pZCJ9fQ==--0c81a8f9e7a606f04af37bb8d5186c0403c89995/writebook-manual.jpg" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
Started GET "/books/1/bookmark" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id" => "eyJfcmFpbHMiOnsiZGF0YSI6MSwicHVyIjoiYmxvYl9pZCJ9fQ==--0c81a8f9e7a606f04af37bb8d5186c0403c89995", "filename" => "writebook-manual"}
Started GET "/assets/empty-cover-1d2244fa.png" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
Processing by Books::BookmarksController#show as HTML
  Parameters: {"book_id" => "1"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: jkfqs642vkywow6ksh0jyd7bpf3w (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJqa2ZxczY0MnZreXdvdzZrc2gwanlkN2JwZjN3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwid3JpdGVib29rLW1hbnVhbC5qcGdcIjsgZmlsZW5hbWUqPVVURi04Jyd3cml0ZWJvb2stbWFudWFsLmpwZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2pwZWciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a53f5f3b40a05e718d04d2be9a47fcba53c8ee76/writebook-manual.jpg)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJqa2ZxczY0MnZreXdvdzZrc2gwanlkN2JwZjN3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwid3JpdGVib29rLW1hbnVhbC5qcGdcIjsgZmlsZW5hbWUqPVVURi04Jyd3cml0ZWJvb2stbWFudWFsLmpwZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2pwZWciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a53f5f3b40a05e718d04d2be9a47fcba53c8ee76/writebook-manual.jpg
Completed 302 Found in 301ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 2.1ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJqa2ZxczY0MnZreXdvdzZrc2gwanlkN2JwZjN3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwid3JpdGVib29rLW1hbnVhbC5qcGdcIjsgZmlsZW5hbWUqPVVURi04Jyd3cml0ZWJvb2stbWFudWFsLmpwZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2pwZWciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a53f5f3b40a05e718d04d2be9a47fcba53c8ee76/writebook-manual.jpg" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/book_scoped.rb:8:in 'BookScoped#set_book'
  Rendering layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb
  Rendering books/bookmarks/show.html.erb within layouts/turbo_rails/frame
  Rendered books/bookmarks/show.html.erb within layouts/turbo_rails/frame (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 178ms (Views: 2.5ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.6ms)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "writebook-manual"}
Started GET "/assets/add-a88450fd.svg" for 127.0.0.1 at 2025-09-22 09:47:13 -0700
Completed 200 OK in 50ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/books/new" for 127.0.0.1 at 2025-09-22 09:47:18 -0700
Processing by BooksController#new as HTML
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering books/new.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."active" = ? ORDER BY "users"."name" ASC[0m  [["active", 1]]
  ↳ app/views/books/_form.html.erb:81
  [1m[36mAccess Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "accesses" WHERE "accesses"."book_id" IS NULL AND (1=0) AND "accesses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:24:in 'Book::Accessable#accessable?'
  Rendered collection of books/accesses/_access.html.erb [1 times] (Duration: 3.2ms | GC: 0.7ms)
  Rendered books/_form.html.erb (Duration: 11.5ms | GC: 1.0ms)
  Rendered books/new.html.erb within layouts/application (Duration: 12.9ms | GC: 1.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | GC: 1.0ms)
Completed 200 OK in 72ms (Views: 14.5ms | ActiveRecord: 0.4ms (5 queries, 0 cached) | GC: 1.0ms)


Started GET "/assets/eye-0304932f.svg" for 127.0.0.1 at 2025-09-22 09:47:19 -0700
Started GET "/assets/camera-927323b8.svg" for 127.0.0.1 at 2025-09-22 09:47:19 -0700
Started GET "/assets/check-611182fc.svg" for 127.0.0.1 at 2025-09-22 09:47:19 -0700
Started GET "/assets/covers/cover-blue-f33c5778.png" for 127.0.0.1 at 2025-09-22 09:47:19 -0700
Started GET "/assets/arrow-left-9d7a2cac.svg" for 127.0.0.1 at 2025-09-22 09:47:20 -0700
Started GET "/assets/crown-00d190cb.svg" for 127.0.0.1 at 2025-09-22 09:47:20 -0700
Started GET "/assets/write-f6525fbe.svg" for 127.0.0.1 at 2025-09-22 09:47:20 -0700
Started GET "/" for 127.0.0.1 at 2025-09-22 09:47:29 -0700
Processing by BooksController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) ORDER BY "books"."title" ASC[0m  [["user_id", 1], ["published", 1]]
  ↳ app/views/books/index.html.erb:29
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:2
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:6
  Rendered collection of books/_book.html.erb [1 times] (Duration: 1.9ms | GC: 0.0ms)
  Rendered books/_new.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.7ms)
Completed 200 OK in 74ms (Views: 5.0ms | ActiveRecord: 0.5ms (6 queries, 0 cached) | GC: 1.7ms)


Started GET "/books/1/bookmark" for 127.0.0.1 at 2025-09-22 09:47:29 -0700
Processing by Books::BookmarksController#show as HTML
  Parameters: {"book_id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/book_scoped.rb:8:in 'BookScoped#set_book'
  Rendering layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb
  Rendering books/bookmarks/show.html.erb within layouts/turbo_rails/frame
  Rendered books/bookmarks/show.html.erb within layouts/turbo_rails/frame (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 0.5ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/1/the-writebook-manual" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Processing by BooksController#show as HTML
  Parameters: {"id" => "1", "slug" => "the-writebook-manual"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in 'BooksController#set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:7
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/show.html.erb:7
  Rendered books/_index_link.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["LIMIT", 1]]
  ↳ app/helpers/books_helper.rb:26:in 'BooksHelper#link_to_first_leafable'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ?[0m  [["id", 1]]
  ↳ app/helpers/books_helper.rb:26:in 'BooksHelper#link_to_first_leafable'
  Rendered books/searches/_form.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 2.1ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/publications/_publication.html.erb (Duration: 2.4ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_create_buttons.html.erb (Duration: 7.9ms | GC: 0.0ms)
  Rendered books/_mode_buttons.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/books/show.html.erb:115
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/books/show.html.erb:115
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/books/show.html.erb:115
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 6], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 7], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 8], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 9], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 10], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 11], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 12], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_delete.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 13], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered collection of leaves/_leaf.html.erb [14 times] (Duration: 73.5ms | GC: 15.2ms)
  Rendered books/show.html.erb within layouts/application (Duration: 103.8ms | GC: 15.2ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 105.7ms | GC: 15.8ms)
Completed 200 OK in 166ms (Views: 103.6ms | ActiveRecord: 2.6ms (73 queries, 48 cached) | GC: 15.8ms)


Started GET "/assets/books-75f5090c.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/assets/expand-9ef30634.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/assets/lock-0f5ec2d7.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/assets/view-grid-10cd8744.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/assets/rearrange-19618cf9.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/assets/minus-b31a1093.svg" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/u/markdown-toolbar-lnzfda-95NHOY.png" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/u/users-gdhgkg-uak0Gi.png" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Started GET "/u/screenshot-2024-06-19-at-8-16-09-pm-1mjvns-DPjypJ.png" for 127.0.0.1 at 2025-09-22 09:47:30 -0700
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "markdown-toolbar-lnzfda-95NHOY"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "users-gdhgkg-uak0Gi"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "screenshot-2024-06-19-at-8-16-09-pm-1mjvns-DPjypJ"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "users-gdhgkg-uak0Gi.png"], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "markdown-toolbar-lnzfda-95NHOY.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.2ms) [0m[34mGenerated URL for file at key: 2coqpzeeqa0c1mcehcrhqkagrhkh (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIyY29xcHplZXFhMGMxbWNlaGNyaHFrYWdyaGtoIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwidXNlcnMtR2RoZ0tnLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3VzZXJzLUdkaGdLZy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--77df108785240d265dbd992415bbbec2447b532b/users-GdhgKg.png)[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIyY29xcHplZXFhMGMxbWNlaGNyaHFrYWdyaGtoIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwidXNlcnMtR2RoZ0tnLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3VzZXJzLUdkaGdLZy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--77df108785240d265dbd992415bbbec2447b532b/users-GdhgKg.png
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
Completed 302 Found in 316ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.4ms)


[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: di4h4ehovkk32g9qjnqltf6x7fqr (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJkaTRoNGVob3ZrazMyZzlxam5xbHRmNng3ZnFyIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwibWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnbWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--2f4c07c84a7e6082a8aa9634512fcd48e1151715/markdown-toolbar-lnzfdA.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJkaTRoNGVob3ZrazMyZzlxam5xbHRmNng3ZnFyIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwibWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnbWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--2f4c07c84a7e6082a8aa9634512fcd48e1151715/markdown-toolbar-lnzfdA.png
Completed 302 Found in 318ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIyY29xcHplZXFhMGMxbWNlaGNyaHFrYWdyaGtoIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwidXNlcnMtR2RoZ0tnLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3VzZXJzLUdkaGdLZy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--77df108785240d265dbd992415bbbec2447b532b/users-GdhgKg.png" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJkaTRoNGVob3ZrazMyZzlxam5xbHRmNng3ZnFyIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwibWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnbWFya2Rvd24tdG9vbGJhci1sbnpmZEEucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--2f4c07c84a7e6082a8aa9634512fcd48e1151715/markdown-toolbar-lnzfdA.png" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "screenshot-2024-06-19-at-8-16-09-pm-1mjvns-DPjypJ.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.2ms) [0m[34mGenerated URL for file at key: ri0jzmz6nu1s0zyqb8hnzi5jlma5 (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJyaTBqem16Nm51MXMwenlxYjhobnppNWpsbWE1IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2NyZWVuc2hvdC0yMDI0LTA2LTE5LWF0LTgtMTYtMDktcG0tMW1qVm5zLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3NjcmVlbnNob3QtMjAyNC0wNi0xOS1hdC04LTE2LTA5LXBtLTFtalZucy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a55fc0c8ea1b04a15a6698aa2b5cde24a680714d/screenshot-2024-06-19-at-8-16-09-pm-1mjVns.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJyaTBqem16Nm51MXMwenlxYjhobnppNWpsbWE1IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2NyZWVuc2hvdC0yMDI0LTA2LTE5LWF0LTgtMTYtMDktcG0tMW1qVm5zLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3NjcmVlbnNob3QtMjAyNC0wNi0xOS1hdC04LTE2LTA5LXBtLTFtalZucy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a55fc0c8ea1b04a15a6698aa2b5cde24a680714d/screenshot-2024-06-19-at-8-16-09-pm-1mjVns.png
Completed 302 Found in 323ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJyaTBqem16Nm51MXMwenlxYjhobnppNWpsbWE1IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2NyZWVuc2hvdC0yMDI0LTA2LTE5LWF0LTgtMTYtMDktcG0tMW1qVm5zLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3NjcmVlbnNob3QtMjAyNC0wNi0xOS1hdC04LTE2LTA5LXBtLTFtalZucy5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a55fc0c8ea1b04a15a6698aa2b5cde24a680714d/screenshot-2024-06-19-at-8-16-09-pm-1mjVns.png" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "users-GdhgKg"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "markdown-toolbar-lnzfdA"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "screenshot-2024-06-19-at-8-16-09-pm-1mjVns"}
Completed 200 OK in 273ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Completed 200 OK in 272ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/blank-slate-arrows-3bf32536.svg" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Started GET "/assets/handle-3fe93aa5.svg" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Completed 200 OK in 271ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/u/edit-mode-ygeccm-7Cubub.gif" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Started GET "/u/autosave-ssql4x-BIRw7w.gif" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Started GET "/u/fullscreen-ibqnfm-Tbq382.png" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Processing by ActionText::Markdown::UploadsController#show as GIF
  Parameters: {"slug" => "edit-mode-ygeccm-7Cubub"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "fullscreen-ibqnfm-Tbq382"}
Processing by ActionText::Markdown::UploadsController#show as GIF
  Parameters: {"slug" => "autosave-ssql4x-BIRw7w"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "edit-mode-ygeccm-7Cubub.gif"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: ytgc98kg1z5keb0zu3yn1t9groh6 (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ5dGdjOThrZzF6NWtlYjB6dTN5bjF0OWdyb2g2IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZWRpdC1tb2RlLXlnZUNjTS5naWZcIjsgZmlsZW5hbWUqPVVURi04JydlZGl0LW1vZGUteWdlQ2NNLmdpZiIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2dpZiIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--874380c930e149c276f46325c9cc06ac0bfa781c/edit-mode-ygeCcM.gif)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ5dGdjOThrZzF6NWtlYjB6dTN5bjF0OWdyb2g2IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZWRpdC1tb2RlLXlnZUNjTS5naWZcIjsgZmlsZW5hbWUqPVVURi04JydlZGl0LW1vZGUteWdlQ2NNLmdpZiIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2dpZiIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--874380c930e149c276f46325c9cc06ac0bfa781c/edit-mode-ygeCcM.gif
Completed 302 Found in 291ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "autosave-ssql4x-BIRw7w.gif"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.2ms) [0m[34mGenerated URL for file at key: 3n75bth05h4rn69ostk0lm8wsdy8 (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIzbjc1YnRoMDVoNHJuNjlvc3RrMGxtOHdzZHk4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiYXV0b3NhdmUtU3NxbDRYLmdpZlwiOyBmaWxlbmFtZSo9VVRGLTgnJ2F1dG9zYXZlLVNzcWw0WC5naWYiLCJjb250ZW50X3R5cGUiOiJpbWFnZS9naWYiLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d373b9ebeeeea1f1eefc25edbb1c8c994d9866ac/autosave-Ssql4X.gif)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIzbjc1YnRoMDVoNHJuNjlvc3RrMGxtOHdzZHk4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiYXV0b3NhdmUtU3NxbDRYLmdpZlwiOyBmaWxlbmFtZSo9VVRGLTgnJ2F1dG9zYXZlLVNzcWw0WC5naWYiLCJjb250ZW50X3R5cGUiOiJpbWFnZS9naWYiLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d373b9ebeeeea1f1eefc25edbb1c8c994d9866ac/autosave-Ssql4X.gif
Completed 302 Found in 289ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


  [1m[36mSession Load (0.0ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "fullscreen-ibqnfm-Tbq382.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: h74qdu3ewwpl6e1tcfqpnwylt8lw (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJoNzRxZHUzZXd3cGw2ZTF0Y2ZxcG53eWx0OGx3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZnVsbHNjcmVlbi1JYlFuZk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZnVsbHNjcmVlbi1JYlFuZk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--ad1497dcc06fec3a9b45ed8db022d474bc062a97/fullscreen-IbQnfM.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJoNzRxZHUzZXd3cGw2ZTF0Y2ZxcG53eWx0OGx3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZnVsbHNjcmVlbi1JYlFuZk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZnVsbHNjcmVlbi1JYlFuZk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--ad1497dcc06fec3a9b45ed8db022d474bc062a97/fullscreen-IbQnfM.png
Completed 302 Found in 293ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ5dGdjOThrZzF6NWtlYjB6dTN5bjF0OWdyb2g2IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZWRpdC1tb2RlLXlnZUNjTS5naWZcIjsgZmlsZW5hbWUqPVVURi04JydlZGl0LW1vZGUteWdlQ2NNLmdpZiIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2dpZiIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--874380c930e149c276f46325c9cc06ac0bfa781c/edit-mode-ygeCcM.gif" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIzbjc1YnRoMDVoNHJuNjlvc3RrMGxtOHdzZHk4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiYXV0b3NhdmUtU3NxbDRYLmdpZlwiOyBmaWxlbmFtZSo9VVRGLTgnJ2F1dG9zYXZlLVNzcWw0WC5naWYiLCJjb250ZW50X3R5cGUiOiJpbWFnZS9naWYiLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d373b9ebeeeea1f1eefc25edbb1c8c994d9866ac/autosave-Ssql4X.gif" for 127.0.0.1 at 2025-09-22 09:47:31 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
Processing by ActiveStorage::DiskController#show as GIF
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "autosave-Ssql4X"}
Processing by ActiveStorage::DiskController#show as GIF
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "edit-mode-ygeCcM"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 1], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 7.8ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 12.6ms | GC: 0.0ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 26.1ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | GC: 0.0ms)
Completed 200 OK in 291ms (Views: 28.2ms | ActiveRecord: 1.3ms (28 queries, 14 cached) | GC: 0.0ms)


Completed 200 OK in 283ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Completed 200 OK in 284ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJoNzRxZHUzZXd3cGw2ZTF0Y2ZxcG53eWx0OGx3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZnVsbHNjcmVlbi1JYlFuZk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZnVsbHNjcmVlbi1JYlFuZk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--ad1497dcc06fec3a9b45ed8db022d474bc062a97/fullscreen-IbQnfM.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Started GET "/u/publishing-vp0unp-FHFMjP.gif" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Started GET "/u/session-transfer-xa3uf7-a7a2UK.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "fullscreen-IbQnfM"}
Processing by ActionText::Markdown::UploadsController#show as GIF
  Parameters: {"slug" => "publishing-vp0unp-FHFMjP"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "session-transfer-xa3uf7-a7a2UK"}
Completed 200 OK in 305ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/sidebar-830c7200.svg" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "session-transfer-xa3uf7-a7a2UK.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.2ms) [0m[34mGenerated URL for file at key: chzjda125mtqzcp8vtfeufybjqp8 (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJjaHpqZGExMjVtdHF6Y3A4dnRmZXVmeWJqcXA4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnc2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--bdf505aa0380c8c54716e0b63278fc3d78176396/session-transfer-xa3uF7.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJjaHpqZGExMjVtdHF6Y3A4dnRmZXVmeWJqcXA4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnc2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--bdf505aa0380c8c54716e0b63278fc3d78176396/session-transfer-xa3uF7.png
Completed 302 Found in 294ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/link-e546a5df.svg" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "publishing-vp0unp-FHFMjP.gif"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: lh5epnlj1tg9oo7z030ka4wmn1ps (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsaDVlcG5sajF0Zzlvbzd6MDMwa2E0d21uMXBzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicHVibGlzaGluZy12UDB1TlAuZ2lmXCI7IGZpbGVuYW1lKj1VVEYtOCcncHVibGlzaGluZy12UDB1TlAuZ2lmIiwiY29udGVudF90eXBlIjoiaW1hZ2UvZ2lmIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--505d31e0ed26c07d900d72fe90e824802c8886f3/publishing-vP0uNP.gif)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsaDVlcG5sajF0Zzlvbzd6MDMwa2E0d21uMXBzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicHVibGlzaGluZy12UDB1TlAuZ2lmXCI7IGZpbGVuYW1lKj1VVEYtOCcncHVibGlzaGluZy12UDB1TlAuZ2lmIiwiY29udGVudF90eXBlIjoiaW1hZ2UvZ2lmIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--505d31e0ed26c07d900d72fe90e824802c8886f3/publishing-vP0uNP.gif
Completed 302 Found in 301ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJjaHpqZGExMjVtdHF6Y3A4dnRmZXVmeWJqcXA4IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwic2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnc2Vzc2lvbi10cmFuc2Zlci14YTN1RjcucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--bdf505aa0380c8c54716e0b63278fc3d78176396/session-transfer-xa3uF7.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsaDVlcG5sajF0Zzlvbzd6MDMwa2E0d21uMXBzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicHVibGlzaGluZy12UDB1TlAuZ2lmXCI7IGZpbGVuYW1lKj1VVEYtOCcncHVibGlzaGluZy12UDB1TlAuZ2lmIiwiY29udGVudF90eXBlIjoiaW1hZ2UvZ2lmIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--505d31e0ed26c07d900d72fe90e824802c8886f3/publishing-vP0uNP.gif" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "session-transfer-xa3uF7"}
Started GET "/u/password-recovery-xkwptx-Oc5d4u.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Processing by ActiveStorage::DiskController#show as GIF
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "publishing-vP0uNP"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "password-recovery-xkwptx-Oc5d4u"}
Completed 200 OK in 260ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/u/do-create-g0vyyi-AE4FyR.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Completed 200 OK in 257ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/search-5f29565f.svg" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "password-recovery-xkwptx-Oc5d4u.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.2ms) [0m[34mGenerated URL for file at key: lapmbok34k5gss2r7rl1cpecxuc3 (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsYXBtYm9rMzRrNWdzczJyN3JsMWNwZWN4dWMzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicGFzc3dvcmQtcmVjb3ZlcnktWEt3UHRYLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3Bhc3N3b3JkLXJlY292ZXJ5LVhLd1B0WC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--521611128886f79244cdd69518ac7ae359f21796/password-recovery-XKwPtX.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsYXBtYm9rMzRrNWdzczJyN3JsMWNwZWN4dWMzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicGFzc3dvcmQtcmVjb3ZlcnktWEt3UHRYLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3Bhc3N3b3JkLXJlY292ZXJ5LVhLd1B0WC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--521611128886f79244cdd69518ac7ae359f21796/password-recovery-XKwPtX.png
Completed 302 Found in 261ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 3.2ms)


Started GET "/assets/view-list-331bf799.svg" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "do-create-g0vyyi-AE4FyR"}
Started GET "/u/do-password-avwxbd-MP1qAi.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Started GET "/u/hz-dash-muzn1e-xVtDto.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "do-password-avwxbd-MP1qAi"}
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "hz-dash-muzn1e-xVtDto"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "do-create-g0vyyi-AE4FyR.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: nx414jlsogv6sl8qj3t46m78lu3l (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJueDQxNGpsc29ndjZzbDhxajN0NDZtNzhsdTNsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tY3JlYXRlLUcwVllZSS5wbmdcIjsgZmlsZW5hbWUqPVVURi04Jydkby1jcmVhdGUtRzBWWVlJLnBuZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL3BuZyIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--2f3fb779e828299c6e28396e2374e1e45b5547ed/do-create-G0VYYI.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJueDQxNGpsc29ndjZzbDhxajN0NDZtNzhsdTNsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tY3JlYXRlLUcwVllZSS5wbmdcIjsgZmlsZW5hbWUqPVVURi04Jydkby1jcmVhdGUtRzBWWVlJLnBuZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL3BuZyIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--2f3fb779e828299c6e28396e2374e1e45b5547ed/do-create-G0VYYI.png
Completed 302 Found in 268ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 1.6ms)


Started GET "/assets/world-36f1fe50.svg" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
Started GET "/u/hz-plan-57qavm-okTGKr.png" for 127.0.0.1 at 2025-09-22 09:47:32 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "hz-dash-muzn1e-xVtDto.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: o88vlft9smf7q5nte9fbgkrv85em (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJvODh2bGZ0OXNtZjdxNW50ZTlmYmdrcnY4NWVtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotZGFzaC1NVVpOMWUucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotZGFzaC1NVVpOMWUucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--d7c23ec721d846d9e22a395aaf0fcfa319695d77/hz-dash-MUZN1e.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJvODh2bGZ0OXNtZjdxNW50ZTlmYmdrcnY4NWVtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotZGFzaC1NVVpOMWUucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotZGFzaC1NVVpOMWUucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--d7c23ec721d846d9e22a395aaf0fcfa319695d77/hz-dash-MUZN1e.png
Completed 302 Found in 279ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.7ms)


  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "do-password-avwxbd-MP1qAi.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJvODh2bGZ0OXNtZjdxNW50ZTlmYmdrcnY4NWVtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotZGFzaC1NVVpOMWUucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotZGFzaC1NVVpOMWUucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--d7c23ec721d846d9e22a395aaf0fcfa319695d77/hz-dash-MUZN1e.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: 1sr8lrty3o99h2otkls5kjm4ut6t (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIxc3I4bHJ0eTNvOTloMm90a2xzNWtqbTR1dDZ0IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGFzc3dvcmQtQVZXeGJELnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2RvLXBhc3N3b3JkLUFWV3hiRC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--16fb3c644b4452ba06c28487aad57c58e7ee85c1/do-password-AVWxbD.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIxc3I4bHJ0eTNvOTloMm90a2xzNWtqbTR1dDZ0IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGFzc3dvcmQtQVZXeGJELnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2RvLXBhc3N3b3JkLUFWV3hiRC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--16fb3c644b4452ba06c28487aad57c58e7ee85c1/do-password-AVWxbD.png
Completed 302 Found in 285ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 1.4ms)


Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "hz-plan-57qavm-okTGKr"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiIxc3I4bHJ0eTNvOTloMm90a2xzNWtqbTR1dDZ0IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGFzc3dvcmQtQVZXeGJELnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2RvLXBhc3N3b3JkLUFWV3hiRC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--16fb3c644b4452ba06c28487aad57c58e7ee85c1/do-password-AVWxbD.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "do-password-AVWxbD"}
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "hz-dash-MUZN1e"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "hz-plan-57qavm-okTGKr.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: w55ht79z5f8ccao6z8pyrvyjdxve (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ3NTVodDc5ejVmOGNjYW82ejhweXJ2eWpkeHZlIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotcGxhbi01N1FBVk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotcGxhbi01N1FBVk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--fd1da150cfea01a9cbd5de43f69d6f2f54331c82/hz-plan-57QAVM.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ3NTVodDc5ejVmOGNjYW82ejhweXJ2eWpkeHZlIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotcGxhbi01N1FBVk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotcGxhbi01N1FBVk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--fd1da150cfea01a9cbd5de43f69d6f2f54331c82/hz-plan-57QAVM.png
Completed 302 Found in 274ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ3NTVodDc5ejVmOGNjYW82ejhweXJ2eWpkeHZlIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotcGxhbi01N1FBVk0ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnaHotcGxhbi01N1FBVk0ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--fd1da150cfea01a9cbd5de43f69d6f2f54331c82/hz-plan-57QAVM.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Completed 200 OK in 280ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


Completed 200 OK in 280ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "hz-plan-57QAVM"}
Started GET "/u/hz-ip-6fsmg0-62rZiZ.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "hz-ip-6fsmg0-62rZiZ"}
Completed 200 OK in 140ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "hz-ip-6fsmg0-62rZiZ.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: ney0g0rr48fvniu4oe39uhiduf0m (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJuZXkwZzBycjQ4ZnZuaXU0b2UzOXVoaWR1ZjBtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotaXAtNkZzTWcwLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2h6LWlwLTZGc01nMC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d85ec8aa5f8728529fb56e6aa7688a1e8b7f56e3/hz-ip-6FsMg0.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJuZXkwZzBycjQ4ZnZuaXU0b2UzOXVoaWR1ZjBtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotaXAtNkZzTWcwLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2h6LWlwLTZGc01nMC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d85ec8aa5f8728529fb56e6aa7688a1e8b7f56e3/hz-ip-6FsMg0.png
Completed 302 Found in 136ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJuZXkwZzBycjQ4ZnZuaXU0b2UzOXVoaWR1ZjBtIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiaHotaXAtNkZzTWcwLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ2h6LWlwLTZGc01nMC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--d85ec8aa5f8728529fb56e6aa7688a1e8b7f56e3/hz-ip-6FsMg0.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "hz-ip-6FsMg0"}
Completed 200 OK in 38ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/u/do-plan-izhilo-dtImgq.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActionText::Markdown::UploadsController#show as PNG
  Parameters: {"slug" => "do-plan-izhilo-dtImgq"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."slug" = ? LIMIT ?[0m  [["slug", "do-plan-izhilo-dtImgq.png"], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:21:in 'ActionText::Markdown::UploadsController#show'
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/action_text/markdown/uploads_controller.rb:23:in 'ActionText::Markdown::UploadsController#show'
[36m  Disk Storage (0.1ms) [0m[34mGenerated URL for file at key: tx1crw5vupj6q47d2e85oyd9qd1n (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ0eDFjcnc1dnVwajZxNDdkMmU4NW95ZDlxZDFuIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGxhbi1JWkhpTE8ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZG8tcGxhbi1JWkhpTE8ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--09cefde206ad7118d94ea29c3bdf777a98226991/do-plan-IZHiLO.png)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ0eDFjcnc1dnVwajZxNDdkMmU4NW95ZDlxZDFuIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGxhbi1JWkhpTE8ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZG8tcGxhbi1JWkhpTE8ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--09cefde206ad7118d94ea29c3bdf777a98226991/do-plan-IZHiLO.png
Completed 302 Found in 42ms (ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJ0eDFjcnc1dnVwajZxNDdkMmU4NW95ZDlxZDFuIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tcGxhbi1JWkhpTE8ucG5nXCI7IGZpbGVuYW1lKj1VVEYtOCcnZG8tcGxhbi1JWkhpTE8ucG5nIiwiY29udGVudF90eXBlIjoiaW1hZ2UvcG5nIiwic2VydmljZV9uYW1lIjoibG9jYWwifSwicHVyIjoiYmxvYl9rZXkifX0=--09cefde206ad7118d94ea29c3bdf777a98226991/do-plan-IZHiLO.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "do-plan-IZHiLO"}
Completed 200 OK in 38ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJsYXBtYm9rMzRrNWdzczJyN3JsMWNwZWN4dWMzIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwicGFzc3dvcmQtcmVjb3ZlcnktWEt3UHRYLnBuZ1wiOyBmaWxlbmFtZSo9VVRGLTgnJ3Bhc3N3b3JkLXJlY292ZXJ5LVhLd1B0WC5wbmciLCJjb250ZW50X3R5cGUiOiJpbWFnZS9wbmciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--521611128886f79244cdd69518ac7ae359f21796/password-recovery-XKwPtX.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "password-recovery-XKwPtX"}
Completed 200 OK in 40ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJueDQxNGpsc29ndjZzbDhxajN0NDZtNzhsdTNsIiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwiZG8tY3JlYXRlLUcwVllZSS5wbmdcIjsgZmlsZW5hbWUqPVVURi04Jydkby1jcmVhdGUtRzBWWVlJLnBuZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL3BuZyIsInNlcnZpY2VfbmFtZSI6ImxvY2FsIn0sInB1ciI6ImJsb2Jfa2V5In19--2f3fb779e828299c6e28396e2374e1e45b5547ed/do-create-G0VYYI.png" for 127.0.0.1 at 2025-09-22 09:47:33 -0700
Processing by ActiveStorage::DiskController#show as PNG
  Parameters: {"encoded_key" => "[FILTERED]", "filename" => "do-create-G0VYYI"}
Completed 200 OK in 38ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 09:47:34 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 1], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.9ms | GC: 0.7ms)
  Rendered leafables/_edit_header.html.erb (Duration: 3.3ms | GC: 0.7ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 2.8ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:1
  Rendered leaves/_history.html.erb (Duration: 4.8ms | GC: 0.5ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 9.9ms | GC: 0.5ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 2.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.8ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 32.5ms | GC: 2.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 34.0ms | GC: 2.2ms)
Completed 200 OK in 92ms (Views: 33.6ms | ActiveRecord: 1.5ms (30 queries, 14 cached) | GC: 3.0ms)


Started GET "/assets/text-bold-953efeb6.svg" for 127.0.0.1 at 2025-09-22 09:47:34 -0700
Started GET "/assets/text-italic-a906b710.svg" for 127.0.0.1 at 2025-09-22 09:47:34 -0700
Started GET "/assets/text-code-7f055840.svg" for 127.0.0.1 at 2025-09-22 09:47:34 -0700
Started GET "/assets/text-image-3378eea7.svg" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/assets/text-numbers-7d3f91bd.svg" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/assets/text-quote-6a3e8f94.svg" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/assets/text-bullets-f3ae9010.svg" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/assets/text-link-accbcce7.svg" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/cable" for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 09:47:35 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 09:47:42 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: 8b1811d7-4d4e-4431-a13f-f52049617bc1) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000126277e10 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000126277668 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Create (0.9ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 16:47:42.096728"], ["updated_at", "2025-09-22 16:47:42.096728"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 14], ["name", "body"], ["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["created_at", "2025-09-22 16:47:42.099306"], ["updated_at", "2025-09-22 16:47:42.099306"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mEdit Create (0.1ms)[0m  [1m[32mINSERT INTO "edits" ("leaf_id", "leafable_type", "leafable_id", "action", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["leaf_id", 1], ["leafable_type", "Page"], ["leafable_id", 1], ["action", "revision"], ["created_at", "2025-09-22 16:47:42.104024"], ["updated_at", "2025-09-22 16:47:42.104024"]]
  ↳ app/models/leaf/editable.rb:49:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "leafable_id" = ?, "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["leafable_id", 14], ["updated_at", "2025-09-22 16:47:42.105250"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:50:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:42.100672"], ["id", 14]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 16:47:42.106192"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 76ms (ActiveRecord: 3.3ms (17 queries, 0 cached) | GC: 0.0ms)


Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 09:47:42 -0700
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1]   [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1] Performing Turbo::Streams::BroadcastJob (Job ID: 8b1811d7-4d4e-4431-a13f-f52049617bc1) from Async(default) enqueued at 2025-09-22T16:47:42.094283000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000124e1a2b0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000124e199a0 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.6ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [8b1811d7-4d4e-4431-a13f-f52049617bc1] Performed Turbo::Streams::BroadcastJob (Job ID: 8b1811d7-4d4e-4431-a13f-f52049617bc1) from Async(default) in 6.02ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 2.9ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 8.5ms | GC: 0.0ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 5.5ms | GC: 4.3ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 18.6ms | GC: 4.3ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 4.3ms)
Completed 200 OK in 64ms (Views: 19.3ms | ActiveRecord: 0.9ms (28 queries, 14 cached) | GC: 4.3ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 09:47:43 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 2.0ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:1
  Rendered leaves/_history.html.erb (Duration: 1.8ms | GC: 0.6ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.2ms | GC: 1.1ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.2ms | GC: 0.5ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 19.1ms | GC: 2.1ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | GC: 2.1ms)
Completed 200 OK in 83ms (Views: 19.8ms | ActiveRecord: 1.0ms (30 queries, 14 cached) | GC: 2.8ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/assets/history-633192ea.svg" for 127.0.0.1 at 2025-09-22 09:47:43 -0700
Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 09:47:50 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 4.2ms | GC: 0.8ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.4ms | GC: 1.4ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 17.8ms | GC: 2.5ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 2.5ms)
Completed 200 OK in 78ms (Views: 18.5ms | ActiveRecord: 0.9ms (28 queries, 14 cached) | GC: 3.2ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 09:47:55 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:1
  Rendered leaves/_history.html.erb (Duration: 0.9ms | GC: 0.2ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.3ms | GC: 1.9ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.9ms | GC: 1.1ms)
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 2.5ms | GC: 1.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 21.0ms | GC: 4.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | GC: 6.3ms)
Completed 200 OK in 98ms (Views: 37.2ms | ActiveRecord: 1.2ms (30 queries, 14 cached) | GC: 6.3ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 09:51:19 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.3ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 9.5ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 17.1ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 2.5ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:1
  Rendered leaves/_history.html.erb (Duration: 5.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.7ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:8
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 34.1ms | GC: 11.6ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 1.8ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.3ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 6.6ms | GC: 0.3ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 2.6ms | GC: 0.4ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 78.6ms | GC: 12.2ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 106.6ms | GC: 14.1ms)
Completed 200 OK in 278ms (Views: 107.5ms | ActiveRecord: 6.2ms (30 queries, 14 cached) | GC: 14.1ms)


Started GET "/cable" for 127.0.0.1 at 2025-09-22 09:51:20 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 09:51:20 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 09:51:20 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for 127.0.0.1 at 2025-09-22 09:53:38 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 21.1ms | GC: 10.7ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.9ms | GC: 0.3ms)
  Rendered books/searches/_search.html.erb (Duration: 4.9ms | GC: 0.9ms)
  Rendered leafables/_edit_header.html.erb (Duration: 35.0ms | GC: 12.5ms)
  Rendered books/_edit_mode.html.erb (Duration: 2.0ms | GC: 0.4ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 5.5ms | GC: 0.5ms)
  [1m[36mEdit Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 5.8ms | GC: 0.5ms)
  [1m[36mLeaf Load (0.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 22.2ms | GC: 0.6ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 1.0ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.3ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 6.4ms | GC: 0.1ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 3.3ms | GC: 0.1ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 92.3ms | GC: 14.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 122.8ms | GC: 14.8ms)
Completed 200 OK in 282ms (Views: 124.7ms | ActiveRecord: 4.1ms (30 queries, 14 cached) | GC: 14.8ms)


Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/assets/reactionview-dev-tools.umd-b64bc688.js" for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Started GET "/cable" for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 09:53:39 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 09:53:40 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 10:10:24 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (6.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.2ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 14], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 1.7ms | GC: 0.5ms)
  Rendered leafables/_edit_header.html.erb (Duration: 13.2ms | GC: 4.7ms)
  Rendered books/_edit_mode.html.erb (Duration: 1.1ms | GC: 0.4ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 2.7ms | GC: 0.6ms)
  [1m[36mEdit Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 2.0ms | GC: 0.6ms)
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 14], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 25.9ms | GC: 12.2ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.5ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 5.4ms | GC: 2.4ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 3.5ms | GC: 1.2ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 58.9ms | GC: 23.1ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 83.9ms | GC: 26.2ms)
Completed 200 OK in 214ms (Views: 82.1ms | ActiveRecord: 9.9ms (30 queries, 14 cached) | GC: 49.8ms)


Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 10:10:24 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/assets/house.min-30394c57.js" for 127.0.0.1 at 2025-09-22 10:10:24 -0700
Started GET "/cable" for 127.0.0.1 at 2025-09-22 10:10:25 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 10:10:25 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 10:10:25 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 49ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:10:34 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\n> Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: bb09f88c-1865-4650-985e-5164ef392201) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000138efab58 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000138efa680 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Create (1.1ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 17:10:34.673550"], ["updated_at", "2025-09-22 17:10:34.673550"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mActionText::Markdown Create (0.1ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 15], ["name", "body"], ["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\n> Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["created_at", "2025-09-22 17:10:34.676664"], ["updated_at", "2025-09-22 17:10:34.676664"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mEdit Create (0.4ms)[0m  [1m[32mINSERT INTO "edits" ("leaf_id", "leafable_type", "leafable_id", "action", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["leaf_id", 1], ["leafable_type", "Page"], ["leafable_id", 14], ["action", "revision"], ["created_at", "2025-09-22 17:10:34.678134"], ["updated_at", "2025-09-22 17:10:34.678134"]]
  ↳ app/models/leaf/editable.rb:49:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "leafable_id" = ?, "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["leafable_id", 15], ["updated_at", "2025-09-22 17:10:34.679708"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:50:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Update (0.2ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:10:34.677649"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:10:34.680599"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (1.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

“Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.”

Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 102ms (ActiveRecord: 5.3ms (18 queries, 0 cached) | GC: 1.2ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201] Performing Turbo::Streams::BroadcastJob (Job ID: bb09f88c-1865-4650-985e-5164ef392201) from Async(default) enqueued at 2025-09-22T17:10:34.667012000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000013a215a58 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013a2155a8 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 3.9ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [bb09f88c-1865-4650-985e-5164ef392201] Performed Turbo::Streams::BroadcastJob (Job ID: bb09f88c-1865-4650-985e-5164ef392201) from Async(default) in 12.44ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 10:11:09 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 9.2ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 25.6ms | GC: 9.5ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 2.2ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 45.5ms | GC: 10.2ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | GC: 10.7ms)
Completed 200 OK in 107ms (Views: 47.5ms | ActiveRecord: 1.5ms (28 queries, 14 cached) | GC: 10.7ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 10:11:12 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 3.6ms | GC: 0.7ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 12.4ms | GC: 1.8ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.5ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 22.6ms | GC: 2.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | GC: 3.1ms)
Completed 200 OK in 93ms (Views: 24.4ms | ActiveRecord: 1.8ms (30 queries, 14 cached) | GC: 4.1ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 10:11:18 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 2.1ms | GC: 1.8ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 5.5ms | GC: 2.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 9.4ms | GC: 0.0ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 18.3ms | GC: 2.0ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | GC: 2.0ms)
Completed 200 OK in 81ms (Views: 19.0ms | ActiveRecord: 1.2ms (28 queries, 14 cached) | GC: 2.2ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 10:11:20 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.9ms | GC: 0.6ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.5ms | GC: 1.1ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 1.7ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 18.7ms | GC: 2.1ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | GC: 2.4ms)
Completed 200 OK in 92ms (Views: 19.9ms | ActiveRecord: 0.9ms (30 queries, 14 cached) | GC: 8.8ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:26 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: a107e36f-1e68-4ed9-adb3-cd3f99d64704) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x00000001383f10e0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x00000001383f0118 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.7ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\nUse it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:26.863595"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:26.866074"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.0ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:26.868968"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:26.864722"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:26.871089"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:26.871839"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.4ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 74ms (ActiveRecord: 2.6ms (21 queries, 0 cached) | GC: 1.0ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704] Performing Turbo::Streams::BroadcastJob (Job ID: a107e36f-1e68-4ed9-adb3-cd3f99d64704) from Async(default) enqueued at 2025-09-22T17:11:26.858397000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000013a21b840 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013a21b3b8 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [a107e36f-1e68-4ed9-adb3-cd3f99d64704] Performed Turbo::Streams::BroadcastJob (Job ID: a107e36f-1e68-4ed9-adb3-cd3f99d64704) from Async(default) in 3.5ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:32 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: dccaaaf4-448e-4f28-a549-0d9a221f6b54) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000013a0b13b0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013a0b0f00 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.6ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:32.800510"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:32.802835"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.1ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:32.805755"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:32.801594"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:32.807352"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.3ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:32.811078"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.”

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 81ms (ActiveRecord: 2.5ms (21 queries, 0 cached) | GC: 3.0ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54] Performing Turbo::Streams::BroadcastJob (Job ID: dccaaaf4-448e-4f28-a549-0d9a221f6b54) from Async(default) enqueued at 2025-09-22T17:11:32.796541000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000125a5e2b0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000125a5b0b0 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [dccaaaf4-448e-4f28-a549-0d9a221f6b54] Performed Turbo::Streams::BroadcastJob (Job ID: dccaaaf4-448e-4f28-a549-0d9a221f6b54) from Async(default) in 3.37ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:35 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n``\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: 4c9a418c-e266-4896-8552-38018f238012) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x00000001266c11b0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x00000001266c0b98 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.6ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n``\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:35.948234"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:35.950510"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.0ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:35.954233"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:35.949294"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:35.956010"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:35.956760"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.8ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.
``
And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.”

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 78ms (ActiveRecord: 2.4ms (21 queries, 0 cached) | GC: 1.4ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012] Performing Turbo::Streams::BroadcastJob (Job ID: 4c9a418c-e266-4896-8552-38018f238012) from Async(default) enqueued at 2025-09-22T17:11:35.943711000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x00000001388536d8 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000138852620 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [4c9a418c-e266-4896-8552-38018f238012] Performed Turbo::Streams::BroadcastJob (Job ID: 4c9a418c-e266-4896-8552-38018f238012) from Async(default) in 3.05ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:41 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: 49eeb651-ca44-4115-8c4e-7af283db5ae6) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000013a175760 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013a1751c0 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.6ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:42.049999"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:42.052418"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.0ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:42.055244"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:42.051046"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:42.056810"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:42.057573"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.6ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.”

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 80ms (ActiveRecord: 2.3ms (21 queries, 0 cached) | GC: 1.6ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6] Performing Turbo::Streams::BroadcastJob (Job ID: 49eeb651-ca44-4115-8c4e-7af283db5ae6) from Async(default) enqueued at 2025-09-22T17:11:42.045736000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000012537ed50 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000012537cbb8 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [49eeb651-ca44-4115-8c4e-7af283db5ae6] Performed Turbo::Streams::BroadcastJob (Job ID: 49eeb651-ca44-4115-8c4e-7af283db5ae6) from Async(default) in 6.29ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:45 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef \r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: d0ace120-b2ca-4ea2-a487-da996b2e56c4) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000125797c20 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000125791e38 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.6ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef \r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:45.991167"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.1ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:46.009366"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.2ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.1ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:46.026614"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:45.993572"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:46.029226"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:46.029972"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (14.9ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

def And because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.”

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 132ms (ActiveRecord: 17.2ms (21 queries, 0 cached) | GC: 2.5ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4]   [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4] Performing Turbo::Streams::BroadcastJob (Job ID: d0ace120-b2ca-4ea2-a487-da996b2e56c4) from Async(default) enqueued at 2025-09-22T17:11:45.986153000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000126fed9f0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000126fed1d0 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.4ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [d0ace120-b2ca-4ea2-a487-da996b2e56c4] Performed Turbo::Streams::BroadcastJob (Job ID: d0ace120-b2ca-4ea2-a487-da996b2e56c4) from Async(default) in 11.53ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:49 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef ruby_method\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: c2125304-d5a0-4c75-b171-70e5fe1827cb) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x00000001386b6d70 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x00000001386b6190 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (2.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef ruby_method\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:49.946428"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:49.948618"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.0ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:49.951348"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:49.947316"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:49.952667"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:49.953405"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.4ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

def ruby_methodAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.”

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 79ms (ActiveRecord: 3.4ms (21 queries, 0 cached) | GC: 1.7ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb] Performing Turbo::Streams::BroadcastJob (Job ID: c2125304-d5a0-4c75-b171-70e5fe1827cb) from Async(default) enqueued at 2025-09-22T17:11:49.940983000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x000000013a0776d8 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013a077278 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [c2125304-d5a0-4c75-b171-70e5fe1827cb] Performed Turbo::Streams::BroadcastJob (Job ID: c2125304-d5a0-4c75-b171-70e5fe1827cb) from Async(default) in 2.7ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:11:53 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: 2f9a4b4d-8110-4222-bfe5-5ade6f4555ca) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x00000001249db528 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x00000001249d17f8 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.7ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.1ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:11:53.673458"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:53.676061"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.0ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:53.678716"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:53.674852"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:53.680831"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:11:53.681584"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.5ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.

def ruby_method
endAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.”

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 84ms (ActiveRecord: 2.2ms (21 queries, 0 cached) | GC: 2.8ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca] Performing Turbo::Streams::BroadcastJob (Job ID: 2f9a4b4d-8110-4222-bfe5-5ade6f4555ca) from Async(default) enqueued at 2025-09-22T17:11:53.668928000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000126eaead0 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000126eae580 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [2f9a4b4d-8110-4222-bfe5-5ade6f4555ca] Performed Turbo::Streams::BroadcastJob (Job ID: 2f9a4b4d-8110-4222-bfe5-5ade6f4555ca) from Async(default) in 3.22ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 10:11:56 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 4.5ms | GC: 0.5ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.7ms | GC: 1.7ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.9ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 2.1ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 21.6ms | GC: 2.2ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | GC: 2.2ms)
Completed 200 OK in 85ms (Views: 21.7ms | ActiveRecord: 1.7ms (28 queries, 14 cached) | GC: 2.7ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 10:12:02 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 2.3ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.2ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 12.6ms | GC: 2.2ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 1.5ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.8ms | GC: 0.7ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 20.4ms | GC: 3.0ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | GC: 3.0ms)
Completed 200 OK in 83ms (Views: 21.3ms | ActiveRecord: 1.2ms (30 queries, 14 cached) | GC: 3.0ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 10:12:07 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: e34e6c70-f380-4619-b4ba-7c36c870e0d4) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000126f0a240 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000126f06d70 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Load (0.6ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mActionText::Markdown Update (0.0ms)[0m  [1m[33mUPDATE "action_text_markdowns" SET "content" = ?, "updated_at" = ? WHERE "action_text_markdowns"."id" = ?[0m  [["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["updated_at", "2025-09-22 17:12:07.812081"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:12:07.815045"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Load (0.0ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:37:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mEdit Update (0.1ms)[0m  [1m[33mUPDATE "edits" SET "updated_at" = ? WHERE "edits"."id" = ?[0m  [["updated_at", "2025-09-22 17:12:07.817810"], ["id", 2]]
  ↳ app/models/leaf/editable.rb:39:in 'block in Leaf::Editable#update_without_recording_edit'
  [1m[36mPage Update (0.0ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 17:12:07.813107"], ["id", 15]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["updated_at", "2025-09-22 17:12:07.819351"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mBook Update (0.1ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 17:12:07.820220"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:36:in 'Leaf::Editable#update_without_recording_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (0.4ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.”

def ruby_method
endAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 78ms (ActiveRecord: 2.3ms (21 queries, 0 cached) | GC: 1.7ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4]   [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4] Performing Turbo::Streams::BroadcastJob (Job ID: e34e6c70-f380-4619-b4ba-7c36c870e0d4) from Async(default) enqueued at 2025-09-22T17:12:07.808038000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000138850988 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x000000013883f890 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [e34e6c70-f380-4619-b4ba-7c36c870e0d4] Performed Turbo::Streams::BroadcastJob (Job ID: e34e6c70-f380-4619-b4ba-7c36c870e0d4) from Async(default) in 3.54ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 10:12:07 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.6ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 4.2ms | GC: 0.9ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 9.6ms | GC: 0.0ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 0.9ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 17.0ms | GC: 0.9ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | GC: 0.9ms)
Completed 200 OK in 65ms (Views: 17.7ms | ActiveRecord: 0.9ms (28 queries, 14 cached) | GC: 1.2ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 10:12:09 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.9ms | GC: 0.7ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 12.9ms | GC: 1.9ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.0ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.6ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 21.4ms | GC: 2.6ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | GC: 3.3ms)
Completed 200 OK in 80ms (Views: 22.9ms | ActiveRecord: 1.1ms (30 queries, 14 cached) | GC: 5.8ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 12:13:55 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 13:29:21 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (12.6ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mSession Update (1.2ms)[0m  [1m[33mUPDATE "sessions" SET "last_active_at" = ?, "updated_at" = ? WHERE "sessions"."id" = ?[0m  [["last_active_at", "2025-09-22 20:29:21.888036"], ["updated_at", "2025-09-22 20:29:21.891004"], ["id", 1]]
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.9ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.7ms | GC: 0.0ms)
  [1m[36mLeaf Load (1.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.8ms | GC: 0.2ms)
  Rendered leafables/_edit_header.html.erb (Duration: 12.6ms | GC: 0.2ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.4ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.9ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.7ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.1ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 13.3ms | GC: 0.7ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.9ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 3.6ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.6ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 3.1ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 37.7ms | GC: 0.9ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 40.8ms | GC: 1.1ms)
Completed 200 OK in 149ms (Views: 37.2ms | ActiveRecord: 21.0ms (32 queries, 14 cached) | GC: 1.3ms)


Started GET "/cable" for 127.0.0.1 at 2025-09-22 13:29:22 -0700
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 13:29:22 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 13:29:22 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
Processing by Rails::PwaController#manifest as JSON
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 57ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 13:29:24 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (1.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.4ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.6ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 6.7ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.4ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 10.4ms | GC: 0.0ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 26.4ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | GC: 2.9ms)
Completed 200 OK in 80ms (Views: 29.2ms | ActiveRecord: 3.0ms (28 queries, 14 cached) | GC: 2.9ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 13:29:37 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 1.8ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 1.4ms | GC: 0.5ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 9.3ms | GC: 0.7ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.5ms | GC: 0.3ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.2ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 19.1ms | GC: 1.5ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | GC: 1.9ms)
Completed 200 OK in 71ms (Views: 20.7ms | ActiveRecord: 1.0ms (30 queries, 14 cached) | GC: 2.5ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 13:29:47 -0700
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 13:29:47 -0700
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-09-22 13:29:47 -0700
Processing by PagesController#edit as */*
  Parameters: {"book_id" => "1", "id" => "1"}
Processing by Rails::PwaController#manifest as JSON
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/stimulus.min-2395e199.js.map" for 127.0.0.1 at 2025-09-22 13:29:47 -0700
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 2.8ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 1.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 14.6ms | GC: 1.7ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.3ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.8ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 2.1ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 26.0ms | GC: 2.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | GC: 2.8ms)
Completed 200 OK in 620ms (Views: 26.7ms | ActiveRecord: 2.3ms (30 queries, 14 cached) | GC: 31.1ms)


  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.1ms | GC: 0.0ms)
Completed 200 OK in 608ms (Views: 0.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 31.1ms)


Started GET "/assets/turbo.min-5dd5a71a.js.map" for 127.0.0.1 at 2025-09-22 13:29:48 -0700
Started GET "/assets/reactionview-dev-tools.umd-d664a056.js.map" for 127.0.0.1 at 2025-09-22 13:29:48 -0700
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 13:29:53 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 1.7ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.5ms | GC: 0.3ms)
  [1m[36mEdit Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 2.4ms | GC: 1.8ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 8.9ms | GC: 0.0ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 1.4ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.1ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 17.3ms | GC: 2.1ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.5ms | GC: 2.1ms)
Completed 200 OK in 75ms (Views: 19.1ms | ActiveRecord: 0.9ms (30 queries, 14 cached) | GC: 2.5ms)


Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 13:29:53 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-09-22 13:29:53 -0700
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/cable" for 127.0.0.1 at 2025-09-22 13:29:53 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 13:29:53 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 13:29:54 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 154ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.2ms)


Started GET "/manifest.json" for 127.0.0.1 at 2025-09-22 13:32:05 -0700
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-09-22 13:32:05 -0700
Processing by Rails::PwaController#manifest as JSON
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 396ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 72.1ms)


Started GET "/pages/1/edits/latest" for 127.0.0.1 at 2025-09-22 13:32:25 -0700
Processing by Pages::EditsController#show as HTML
  Parameters: {"page_id" => "1", "id" => "latest"}
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" INNER JOIN "books" ON "leaves"."book_id" = "books"."id" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE "accesses"."user_id" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["user_id", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/page_leaf_scoped.rb:8:in 'PageLeafScoped#set_leaf'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages/edits_controller.rb:12:in 'Pages::EditsController#set_edit'
  Rendering layout layouts/application.html.erb
  Rendering pages/edits/show.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:68:in 'block (2 levels) in <top (required)>'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? AND (created_at < ?) ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], [nil, "2025-09-22 17:10:34.678134"], ["LIMIT", 1]]
  ↳ app/models/edit.rb:12:in 'Edit#previous'
  [1m[36mCACHE Edit Load (0.0ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? AND (created_at < ?) ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], [nil, "2025-09-22 17:10:34.678134"], ["LIMIT", 1]]
  ↳ app/models/edit.rb:12:in 'Edit#previous'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? AND (created_at > ?) ORDER BY "edits"."id" ASC LIMIT ?[0m  [["leaf_id", 1], [nil, "2025-09-22 17:10:34.678134"], ["LIMIT", 1]]
  ↳ app/models/edit.rb:16:in 'Edit#next'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/views/pages/edits/show.html.erb:55
  [1m[36mActionText::Markdown Load (0.0ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 14], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/views/pages/edits/show.html.erb:66
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/edits/show.html.erb within layouts/application (Duration: 11.1ms | GC: 1.5ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | GC: 1.5ms)
Completed 200 OK in 86ms (Views: 12.4ms | ActiveRecord: 0.9ms (13 queries, 1 cached) | GC: 1.9ms)


Started GET "/1/the-writebook-manual/1/welcome" for 127.0.0.1 at 2025-09-22 13:33:03 -0700
Processing by LeafablesController#show as HTML
  Parameters: {"book_id" => "1", "book_slug" => "the-writebook-manual", "id" => "1", "slug" => "welcome"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  Rendering layout layouts/application.html.erb
  Rendering leafables/show.html.erb within layouts/application
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered books/searches/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.5ms | GC: 0.0ms)
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_banner.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered leaves/_header.html.erb (Duration: 3.3ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 11.9ms | GC: 0.9ms)
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_navigation.html.erb (Duration: 1.0ms | GC: 0.0ms)
  Rendered leafables/show.html.erb within layouts/application (Duration: 18.4ms | GC: 0.9ms)
  [1m[36mAccount Load (0.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | GC: 0.9ms)
Completed 200 OK in 78ms (Views: 19.5ms | ActiveRecord: 0.9ms (28 queries, 14 cached) | GC: 1.3ms)


Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2ZDNKcGRHVmliMjlyTDB4bFlXWXZNUTpiZWluZ19lZGl0ZWQi--2cb749e2f846036c538234bf1282e99844bb545d685e1b9562e00dc4fde90c6d"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/books/1/pages/1/edit" for 127.0.0.1 at 2025-09-22 13:33:10 -0700
Processing by PagesController#edit as HTML
  Parameters: {"book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendering layout layouts/application.html.erb
  Rendering pages/edit.html.erb within layouts/application
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 15], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leafable.rb:10:in 'Page#title'
  Rendered leaves/_sidebar_toggle.html.erb (Duration: 0.1ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score < ?) ORDER BY "leaves"."position_score" DESC, "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:36:in 'Positionable#previous'
  Rendered books/_index_link.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered books/searches/_search.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered leafables/_edit_header.html.erb (Duration: 2.7ms | GC: 0.0ms)
  Rendered books/_edit_mode.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered pages/_house_toolbar.html.erb (Duration: 0.3ms | GC: 0.0ms)
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/views/leaves/_history.html.erb:2
  Rendered leaves/_history.html.erb (Duration: 0.8ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC[0m  [["book_id", 1], ["status", "active"]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 15], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mSection Load (0.0ms)[0m  [1m[34mSELECT "sections".* FROM "sections" WHERE "sections"."id" = ?[0m  [["id", 1]]
  ↳ app/views/leaves/_sidebar.html.erb:9
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  [1m[36mCACHE Access Load (0.0ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
  Rendered leaves/_sidebar.html.erb (Duration: 13.7ms | GC: 3.4ms)
  Rendered leaves/_being_edited_indicator.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT "books".* FROM "books" WHERE "books"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ config/routes.rb:64:in 'block (2 levels) in <top (required)>'
  [1m[36mActionText::Markdown Load (0.1ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 15], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
  ↳ lib/rails_ext/action_text_has_markdown.rb:9:in 'Page#body'
  Rendered pages/_form.html.erb (Duration: 2.2ms | GC: 0.0ms)
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" != ? AND (position_score > ?) ORDER BY "leaves"."position_score" ASC, "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], [nil, 1.0], ["LIMIT", 1]]
  ↳ app/models/concerns/positionable.rb:40:in 'Positionable#next'
  Rendered leaves/_edit_footer.html.erb (Duration: 1.3ms | GC: 0.0ms)
  Rendered pages/edit.html.erb within layouts/application (Duration: 22.5ms | GC: 3.4ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | GC: 4.1ms)
Completed 200 OK in 74ms (Views: 24.4ms | ActiveRecord: 1.2ms (30 queries, 14 cached) | GC: 4.1ms)


Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/1/the-writebook-manual" for 127.0.0.1 at 2025-09-22 13:33:10 -0700
Processing by BooksController#show as HTML
  Parameters: {"id" => "1", "slug" => "the-writebook-manual"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in 'BooksController#set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 5.7ms | GC: 0.9ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 0.9ms)
Completed 200 OK in 66ms (Views: 7.9ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.9ms)


Started PUT "/books/1/pages/1" for 127.0.0.1 at 2025-09-22 13:33:17 -0700
Processing by PagesController#update as HTML
  Parameters: {"leaf" => {"title" => "Welcome"}, "authenticity_token" => "[FILTERED]", "page" => {"body" => "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software **that** allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"}, "book_id" => "1", "id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:11:in 'SetBookLeaf#set_book'
  [1m[36mLeaf Load (0.0ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? AND "leaves"."status" = ? AND "leaves"."id" = ? LIMIT ?[0m  [["book_id", 1], ["status", "active"], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:15:in 'SetBookLeaf#set_leaf'
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/set_book_leaf.rb:19:in 'SetBookLeaf#set_leafable'
  [1m[36mAccess Load (0.1ms)[0m  [1m[34mSELECT "accesses".* FROM "accesses" WHERE "accesses"."book_id" = ? AND "accesses"."user_id" = ? LIMIT ?[0m  [["book_id", 1], ["user_id", 1], ["LIMIT", 1]]
  ↳ app/models/book/accessable.rb:32:in 'Book::Accessable#access_for'
[ActiveJob] Enqueued Turbo::Streams::BroadcastJob (Job ID: 7207e5a6-a4d4-4ac8-ad55-3cad11fa0540) to Async(default) with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000139c10540 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000139c10068 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] ↳ app/controllers/leafables_controller.rb:66:in 'LeafablesController#broadcast_being_edited_indicator'
  [1m[36mEdit Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "edits" WHERE "edits"."leaf_id" = ? LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[36mEdit Load (0.1ms)[0m  [1m[34mSELECT "edits".* FROM "edits" WHERE "edits"."leaf_id" = ? ORDER BY "edits"."id" DESC LIMIT ?[0m  [["leaf_id", 1], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:26:in 'Leaf::Editable#last_edit_old?'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Create (1.9ms)[0m  [1m[32mINSERT INTO "pages" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-09-22 20:33:17.578721"], ["updated_at", "2025-09-22 20:33:17.578721"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."leafable_id" = ? AND "leaves"."leafable_type" = ? LIMIT ?[0m  [["leafable_id", 16], ["leafable_type", "Page"], ["LIMIT", 1]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mActionText::Markdown Create (0.5ms)[0m  [1m[32mINSERT INTO "action_text_markdowns" ("record_type", "record_id", "name", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["record_type", "Page"], ["record_id", 16], ["name", "body"], ["content", "# Welcome to Writebook\r\n\r\n- Thanks for downloading Writebook. \r\n\r\nWritebook is remarkably simple software **that** allows you to publish text and pictures in a simple, browsable online book format. It's independent publishing for everyone.\r\n\r\n> Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.\r\n\r\n```ruby\r\ndef ruby_method\r\nend\r\n```\r\n\r\nAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You're in control.\r\n\r\nIn the pages that follow we'll help you get started with Writebook and show you how it all works. \r\n\r\nWe can't wait to see what you make with it!\r\n"], ["created_at", "2025-09-22 20:33:17.582577"], ["updated_at", "2025-09-22 20:33:17.582577"]]
  ↳ app/models/leaf/editable.rb:47:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mEdit Create (0.1ms)[0m  [1m[32mINSERT INTO "edits" ("leaf_id", "leafable_type", "leafable_id", "action", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["leaf_id", 1], ["leafable_type", "Page"], ["leafable_id", 15], ["action", "revision"], ["created_at", "2025-09-22 20:33:17.584435"], ["updated_at", "2025-09-22 20:33:17.584435"]]
  ↳ app/models/leaf/editable.rb:49:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mLeaf Update (0.0ms)[0m  [1m[33mUPDATE "leaves" SET "leafable_id" = ?, "updated_at" = ? WHERE "leaves"."id" = ?[0m  [["leafable_id", 16], ["updated_at", "2025-09-22 20:33:17.585437"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:50:in 'block in Leaf::Editable#update_and_record_edit'
  [1m[36mPage Update (0.1ms)[0m  [1m[33mUPDATE "pages" SET "updated_at" = ? WHERE "pages"."id" = ?[0m  [["updated_at", "2025-09-22 20:33:17.584043"], ["id", 16]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mBook Update (0.0ms)[0m  [1m[33mUPDATE "books" SET "updated_at" = ? WHERE "books"."id" = ?[0m  [["updated_at", "2025-09-22 20:33:17.586732"], ["id", 1]]
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/editable.rb:45:in 'Leaf::Editable#update_and_record_edit'
  [1m[35mSQL (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[35m (1.7ms)[0m  [1m[33mupdate leaf_search_index set title = 'Welcome', content = 'Welcome to Writebook

• Thanks for downloading Writebook. 

Writebook is remarkably simple software that allows you to publish text and pictures in a simple, browsable online book format. It''s independent publishing for everyone.

“Use it for everything from an instruction manual (like this one!), to employee handbooks, internal technical runbooks, graphic novels, collections of short stories, poetry, blog posts, novels, or family history. Put it all into Writebook and instantly publish to the web.”

def ruby_method
endAnd because you host it yourself, you own all your own data. With no limits on readers or writers, you can create as many books as you like. You''re in control.

In the pages that follow we''ll help you get started with Writebook and show you how it all works. 

We can''t wait to see what you make with it!' where rowid = 1[0m
  ↳ app/models/leaf/searchable.rb:80:in 'Leaf::Searchable#execute_sql_with_binds'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/leaf/searchable.rb:67:in 'Leaf::Searchable#update_in_search_index'
Completed 204 No Content in 78ms (ActiveRecord: 5.8ms (18 queries, 0 cached) | GC: 0.6ms)


[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540]   [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540]   [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540] Performing Turbo::Streams::BroadcastJob (Job ID: 7207e5a6-a4d4-4ac8-ad55-3cad11fa0540) from Async(default) enqueued at 2025-09-22T20:33:17.575420000Z with arguments: "Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited", {partial: "leaves/being_edited_by", locals: {leaf: #<GlobalID:0x0000000139f93c08 @uri=#<URI::GID gid://writebook/Leaf/1>>, user: #<GlobalID:0x0000000139f937a8 @uri=#<URI::GID gid://writebook/User/1>>}}
[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540]   Rendered leaves/_being_edited_by.turbo_stream.erb (Duration: 0.2ms | GC: 0.0ms)
[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540] [ActionCable] Broadcasting to Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited: "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove...
[ActiveJob] [Turbo::Streams::BroadcastJob] [7207e5a6-a4d4-4ac8-ad55-3cad11fa0540] Performed Turbo::Streams::BroadcastJob (Job ID: 7207e5a6-a4d4-4ac8-ad55-3cad11fa0540) from Async(default) in 2.9ms
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"being_edited_leaf_1\"><template>\n  <div id=\"being_edited_by_user_1\" class=\"flex-inline align-center justify-center margin-block-end-double txt-medium gap being-edited-by\" data-controller=\"autoremove\" data-action=\"animationend-&gt;autoremove#remove... (via streamed from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited)
  [1m[36mPage Load (0.3ms)[0m  [1m[34mSELECT "pages".* FROM "pages" ORDER BY "pages"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT "books".* FROM "books" ORDER BY "books"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mLeaf Load (0.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? /* loading for pp */ LIMIT ?[0m  [["book_id", 1], ["LIMIT", 11]]
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.3ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" DESC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.4ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.1ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mPage Load (0.0ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mLeaf Load (0.2ms)[0m  [1m[34mSELECT "leaves".* FROM "leaves" WHERE "leaves"."book_id" = ? ORDER BY "leaves"."id" ASC LIMIT ?[0m  [["book_id", 1], ["LIMIT", 1]]
  [1m[36mPage Load (0.1ms)[0m  [1m[34mSELECT "pages".* FROM "pages" WHERE "pages"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mActionText::Markdown Load (1.2ms)[0m  [1m[34mSELECT "action_text_markdowns".* FROM "action_text_markdowns" WHERE "action_text_markdowns"."record_id" = ? AND "action_text_markdowns"."record_type" = ? AND "action_text_markdowns"."name" = ? LIMIT ?[0m  [["record_id", 16], ["record_type", "Page"], ["name", "body"], ["LIMIT", 1]]
Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 14:19:28 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/cable" for 127.0.0.1 at 2025-09-22 15:03:08 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-22 15:03:08 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (14.0ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 08:27:16 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/cable" for 127.0.0.1 at 2025-09-23 08:30:58 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 08:30:59 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (14.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (2.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Finished "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 09:22:06 -0700
Turbo::StreamsChannel stopped streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/cable" for 127.0.0.1 at 2025-09-23 09:23:03 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 09:23:03 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (16.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/" for ::1 at 2025-09-23 10:34:25 -0700
Processing by BooksController#index as HTML
  [1m[36mBook Exists? (13.4ms)[0m  [1m[34mSELECT 1 AS one FROM "books" WHERE "books"."published" = ? LIMIT ?[0m  [["published", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:59:in 'BooksController#ensure_index_is_not_empty'
Redirected to http://localhost:3000/session/new
Filter chain halted as :ensure_index_is_not_empty rendered or redirected
Completed 302 Found in 136ms (ActiveRecord: 13.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/session/new" for ::1 at 2025-09-23 10:34:25 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:27:in 'SessionsController#ensure_user_exists'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 45.5ms | GC: 1.8ms)
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 52.3ms | GC: 1.8ms)
Completed 200 OK in 118ms (Views: 53.1ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 2.7ms)


Started GET "/assets/_reset-9c3efd7b.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/animation-1682b112.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/arrangement-c9cf9cb6.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/buttons-a64f7e63.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/colors-a7c91784.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/dialog-7b5e0174.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/house-ff27e08a.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/inputs-1ea862b1.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/layout-e0cc5584.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/library-057fba11.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/lightbox-4b7304b1.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/pages-5dde5a94.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/panels-fea8d3f3.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/popover-af2d6172.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/product-337efcef.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/qr-code-09948d66.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/search-a617fcd6.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/sidebar-3dac38ff.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/syntax-f7150790.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/text-94431914.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/toc-50e24158.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/translations-e96ea992.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/trix-c4e7be2d.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/utilities-32924371.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/base-a40e8eee.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/turbo.min-fae85750.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/stimulus.min-4b1e420e.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/stimulus-loading-1fc53fe7.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/@rails--request-10d39805.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/house.min-30394c57.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/actions/index-a8af7f75.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/application-3affb389.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/books-c0aa9913.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/arrangement_controller-ee58c295.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/breadcrumbs-9b980014.css" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/autoremove_controller-4526910a.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/autosave_controller-dd3ea732.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/autoselect_controller-0cb7d4b1.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/copy_to_clipboard_controller-07e32f4d.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/dependent_checkbox_controller-5e5cab70.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/dialog_controller-b6629724.js" for ::1 at 2025-09-23 10:34:25 -0700
Started GET "/assets/controllers/edit_mode_controller-61080a1c.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/form_controller-6f3d64db.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/fullscreen_controller-e4a3fba2.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/hotkey_controller-0d616407.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/index-c3f5d3c4.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/lightbox_controller-de0ddc64.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/popover_controller-6d55debe.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/reading_progress_controller-1fc9604c.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/reading_tracker_controller-d394aa22.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/scroll_to_highlight_controller-c828e5e2.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/sidebar_controller-0ea88c95.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/toc_view_controller-883b15e2.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/touch_controller-0b5ff8b4.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/application-9897dfb8.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/web_share_controller-d62a7b0f.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/helpers/cookie_helpers-a1787e92.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/helpers/form_helpers-70a3c11f.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/helpers/reading_progress_helpers-d5510241.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/helpers/timing_helpers-94d95529.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/email-6c595bc5.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/arrow-right-61dca488.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/writebook-icon-8e8f4c33.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/globe-8c54d23b.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/actions/scroll_into_view-9f3401f5.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/reactionview-dev-tools.umd-b64bc688.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/auto_submit_controller-ee52d396.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/controllers/upload_preview_controller-7b3123d6.js" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/password-0896da4e.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/assets/remove-d18dd986.svg" for ::1 at 2025-09-23 10:34:26 -0700
Started GET "/manifest.json" for ::1 at 2025-09-23 10:34:26 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 60ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/session" for ::1 at 2025-09-23 10:34:50 -0700
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token" => "[FILTERED]", "email_address" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."active" = ? AND "users"."email_address" = ? LIMIT ?[0m  [["active", 1], ["email_address", "justin@activeagents.ai"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:11:in 'SessionsController#create'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 1.2ms)
Completed 401 Unauthorized in 387ms (Views: 8.5ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 1.2ms)


Started GET "/session/new" for ::1 at 2025-09-23 10:34:51 -0700
Processing by SessionsController#new as HTML
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:27:in 'SessionsController#ensure_user_exists'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | GC: 0.3ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.3ms)
Completed 200 OK in 60ms (Views: 4.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.3ms)


Started GET "/manifest.json" for ::1 at 2025-09-23 10:34:51 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 65ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2025-09-23 16:25:13 -0700
Started GET "/cable" for 127.0.0.1 at 2025-09-23 16:25:13 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ArgumentError (Invalid route name, already in use: 'root' 
You may have defined two routes with the same name using the `:as` option, or you may be overriding a route already defined by a resource with the same naming. For the latter, you can restrict the routes created with `resources` as explained here: 
https://guides.rubyonrails.org/routing.html#restricting-the-routes-created):
  
config/routes.rb:2:in 'block in <top (required)>'
config/routes.rb:1:in '<top (required)>'
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 16:25:13 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/favicon.ico" for 127.0.0.1 at 2025-09-23 16:25:14 -0700
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2025-09-23 16:26:06 -0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/bundler/gems/rails-13d5f8720892/railties/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/bundler/gems/rails-13d5f8720892/railties/lib/rails/templates/rails/welcome/index.html.erb (Duration: 4.1ms | GC: 0.5ms)
Completed 200 OK in 127ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)


Started GET "/icon.png" for 127.0.0.1 at 2025-09-23 16:26:06 -0700
  
ActionController::RoutingError (No route matches [GET] "/icon.png"):
  
Started GET "/icon.png" for 127.0.0.1 at 2025-09-23 16:26:07 -0700
  
ActionController::RoutingError (No route matches [GET] "/icon.png"):
  
Started GET "/session/new" for 127.0.0.1 at 2025-09-23 16:26:10 -0700
Processing by SessionsController#new as HTML
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[35mSQL (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mSession Update (1.8ms)[0m  [1m[33mUPDATE "sessions" SET "last_active_at" = ?, "updated_at" = ? WHERE "sessions"."id" = ?[0m  [["last_active_at", "2025-09-23 23:26:10.619094"], ["updated_at", "2025-09-23 23:26:10.619915"], ["id", 1]]
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  ↳ app/models/session.rb:16:in 'Session#resume'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:27:in 'SessionsController#ensure_user_exists'
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 3.1ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 80.3ms | GC: 16.9ms)
Completed 200 OK in 175ms (Views: 81.8ms | ActiveRecord: 4.6ms (6 queries, 0 cached) | GC: 16.9ms)


Started GET "/manifest.json" for 127.0.0.1 at 2025-09-23 16:26:10 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 59ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/cable" for 127.0.0.1 at 2025-09-23 16:26:13 -0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 16:26:13 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.5ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/session" for 127.0.0.1 at 2025-09-23 16:26:41 -0700
  
ActionController::RoutingError (No route matches [GET] "/session"):
  
Started GET "/books" for 127.0.0.1 at 2025-09-23 16:26:53 -0700
  
ActionController::RoutingError (No route matches [GET] "/books"):
  
Started GET "/users" for 127.0.0.1 at 2025-09-23 16:27:48 -0700
Processing by UsersController#index as HTML
  [1m[36mSession Load (4.4ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering users/index.html.erb within layouts/application
  Rendered users/index.html.erb within layouts/application (Duration: 5.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 1.4ms)
Completed 500 Internal Server Error in 82ms (ActiveRecord: 4.5ms (2 queries, 0 cached) | GC: 1.4ms)


  
ActionView::Template::Error (undefined local variable or method 'root_path' for an instance of #<Class:0x00000001428fd840>)
Caused by: NameError (undefined local variable or method 'root_path' for an instance of #<Class:0x00000001428fd840>)

Information for: ActionView::Template::Error (undefined local variable or method 'root_path' for an instance of #<Class:0x00000001428fd840>):
    3: <% content_for :header do %>
    4:   <nav>
    5:     <%= link_to root_path, class: "btn" do %>
    6:       <%= image_tag "arrow-left.svg", aria: { hidden: true }, size: 24 %>
    7:       <span class="for-screen-reader">Go back</span>
    8:     <% end %>
    9: 
  
app/views/users/index.html.erb:6
app/views/users/index.html.erb:4

Information for cause: NameError (undefined local variable or method 'root_path' for an instance of #<Class:0x00000001428fd840>):
  
app/views/users/index.html.erb:6
app/views/users/index.html.erb:4
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/new" for 127.0.0.1 at 2025-09-23 16:28:35 -0700
Processing by UsersController#new as HTML
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
Completed 500 Internal Server Error in 68ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 2.2ms)


  
NameError (undefined local variable or method 'root_url' for an instance of UsersController):
  
app/controllers/concerns/authentication.rb:45:in 'Authentication#redirect_signed_in_user_to_root'
Started GET "/first_run" for 127.0.0.1 at 2025-09-23 16:30:52 -0700
Processing by FirstRunsController#show as HTML
  [1m[36mSession Load (4.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/first_runs_controller.rb:19:in 'FirstRunsController#prevent_running_after_setup'
Completed 500 Internal Server Error in 79ms (ActiveRecord: 4.3ms (3 queries, 0 cached) | GC: 0.0ms)


  
NameError (undefined local variable or method 'root_url' for an instance of FirstRunsController):
  
app/controllers/first_runs_controller.rb:19:in 'FirstRunsController#prevent_running_after_setup'
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for 127.0.0.1 at 2025-09-23 16:32:13 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-09-23 16:32:13 -0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/channels/application_cable/connection.rb:14:in 'ApplicationCable::Connection#find_verified_user'
Registered connection (Z2lkOi8vd3JpdGVib29rL1VzZXIvMQ)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vd3JpdGVib29rL0xlYWYvMQ:being_edited
Started GET "/first_run" for 127.0.0.1 at 2025-09-23 16:32:47 -0700
Processing by FirstRunsController#show as HTML
  [1m[36mSession Load (0.2ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/first_runs_controller.rb:19:in 'FirstRunsController#prevent_running_after_setup'
Redirected to http://127.0.0.1:3000/
Filter chain halted as :prevent_running_after_setup rendered or redirected
Completed 302 Found in 124ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-09-23 16:32:48 -0700
Processing by BooksController#index as HTML
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) ORDER BY "books"."title" ASC[0m  [["user_id", 1], ["published", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:3
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered collection of books/_book.html.erb [1 times] (Duration: 41.1ms | GC: 19.5ms)
  Rendered books/_new.html.erb (Duration: 2.4ms | GC: 0.5ms)
  Rendered books/index.html.erb within layouts/application (Duration: 68.7ms | GC: 20.1ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 1.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 113.6ms | GC: 22.9ms)
Completed 200 OK in 213ms (Views: 115.1ms | ActiveRecord: 2.7ms (6 queries, 0 cached) | GC: 22.9ms)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6MSwicHVyIjoiYmxvYl9pZCJ9fQ==--0c81a8f9e7a606f04af37bb8d5186c0403c89995/writebook-manual.jpg" for 127.0.0.1 at 2025-09-23 16:32:48 -0700
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id" => "eyJfcmFpbHMiOnsiZGF0YSI6MSwicHVyIjoiYmxvYl9pZCJ9fQ==--0c81a8f9e7a606f04af37bb8d5186c0403c89995", "filename" => "writebook-manual"}
Started GET "/books/1/bookmark" for 127.0.0.1 at 2025-09-23 16:32:48 -0700
Processing by Books::BookmarksController#show as HTML
  Parameters: {"book_id" => "1"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: jkfqs642vkywow6ksh0jyd7bpf3w (http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJqa2ZxczY0MnZreXdvdzZrc2gwanlkN2JwZjN3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwid3JpdGVib29rLW1hbnVhbC5qcGdcIjsgZmlsZW5hbWUqPVVURi04Jyd3cml0ZWJvb2stbWFudWFsLmpwZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2pwZWciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a53f5f3b40a05e718d04d2be9a47fcba53c8ee76/writebook-manual.jpg)[0m
Redirected to http://127.0.0.1:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsiZGF0YSI6eyJrZXkiOiJqa2ZxczY0MnZreXdvdzZrc2gwanlkN2JwZjN3IiwiZGlzcG9zaXRpb24iOiJpbmxpbmU7IGZpbGVuYW1lPVwid3JpdGVib29rLW1hbnVhbC5qcGdcIjsgZmlsZW5hbWUqPVVURi04Jyd3cml0ZWJvb2stbWFudWFsLmpwZyIsImNvbnRlbnRfdHlwZSI6ImltYWdlL2pwZWciLCJzZXJ2aWNlX25hbWUiOiJsb2NhbCJ9LCJwdXIiOiJibG9iX2tleSJ9fQ==--a53f5f3b40a05e718d04d2be9a47fcba53c8ee76/writebook-manual.jpg
Completed 302 Found in 192ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)


  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/book_scoped.rb:8:in 'BookScoped#set_book'
  Rendering layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb
  Rendering books/bookmarks/show.html.erb within layouts/turbo_rails/frame
  Rendered books/bookmarks/show.html.erb within layouts/turbo_rails/frame (Duration: 3.2ms | GC: 0.2ms)
  Rendered layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb (Duration: 4.4ms | GC: 0.2ms)
Completed 200 OK in 124ms (Views: 6.4ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/manifest.json" for 127.0.0.1 at 2025-09-23 16:32:48 -0700
Processing by Rails::PwaController#manifest as JSON
  Rendering pwa/manifest.json.erb
  Rendered pwa/manifest.json.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 115ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/1/the-writebook-manual" for 127.0.0.1 at 2025-09-23 16:32:50 -0700
Processing by BooksController#show as HTML
  Parameters: {"id" => "1", "slug" => "the-writebook-manual"}
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in 'BooksController#set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 14.8ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | GC: 0.2ms)
Completed 200 OK in 94ms (Views: 18.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/" for 127.0.0.1 at 2025-09-23 16:32:55 -0700
Processing by BooksController#index as HTML
  [1m[36mSession Load (0.3ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  Rendering layout layouts/application.html.erb
  Rendering books/index.html.erb within layouts/application
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) ORDER BY "books"."title" ASC[0m  [["user_id", 1], ["published", 1]]
  ↳ app/views/books/index.html.erb:30
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Book"], ["name", "cover"], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:3
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/books/_book.html.erb:7
  Rendered collection of books/_book.html.erb [1 times] (Duration: 3.9ms | GC: 0.0ms)
  Rendered books/_new.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered books/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.0ms)
Completed 200 OK in 94ms (Views: 8.9ms | ActiveRecord: 0.8ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/books/1/bookmark" for 127.0.0.1 at 2025-09-23 16:32:56 -0700
Processing by Books::BookmarksController#show as HTML
  Parameters: {"book_id" => "1"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.4ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/book_scoped.rb:8:in 'BookScoped#set_book'
  Rendering layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb
  Rendering books/bookmarks/show.html.erb within layouts/turbo_rails/frame
  Rendered books/bookmarks/show.html.erb within layouts/turbo_rails/frame (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout /Users/justinbowen/.asdf/installs/ruby/3.4.5/lib/ruby/gems/3.4.0/gems/turbo-rails-2.0.11/app/views/layouts/turbo_rails/frame.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 87ms (Views: 3.4ms | ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/1/the-writebook-manual" for 127.0.0.1 at 2025-09-23 16:32:57 -0700
Processing by BooksController#show as HTML
  Parameters: {"id" => "1", "slug" => "the-writebook-manual"}
  [1m[36mSession Load (0.1ms)[0m  [1m[34mSELECT "sessions".* FROM "sessions" WHERE "sessions"."token" = ? LIMIT ?[0m  [["token", "eiH7bSXn7W7XSunHTGxF3Xxs"], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication/session_lookup.rb:4:in 'Authentication::SessionLookup#find_session_by_cookie'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/concerns/authentication.rb:60:in 'Authentication#authenticated_as'
  [1m[36mBook Load (0.1ms)[0m  [1m[34mSELECT DISTINCT "books".* FROM "books" INNER JOIN "accesses" ON "books"."id" = "accesses"."book_id" WHERE ("accesses"."user_id" = ? OR "books"."published" = ?) AND "books"."id" = ? LIMIT ?[0m  [["user_id", 1], ["published", 1], ["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/books_controller.rb:47:in 'BooksController#set_book'
  Rendering layout layouts/application.html.erb
  Rendering books/show.html.erb within layouts/application
  Rendered books/show.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/models/current.rb:5:in 'Current#account'
  Rendered layouts/_lightbox.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 77ms (Views: 3.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


